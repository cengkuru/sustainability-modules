<div class="mx-auto max-w-3xl px-4 sm:px-6 lg:max-w-7xl lg:px-8 py-8">
    <div class="bg-white rounded-lg shadow-lg overflow-hidden">
        <div *ngIf="project$ | async as project; else loading" class="p-6">
            <h2 class="text-2xl font-bold text-secondary mb-6">{{ project.name }}</h2>
            <div class="flex flex-col lg:flex-row">
                <!-- Vertical Tabs -->
                <div class="w-full lg:w-1/4 border-b lg:border-b-0 lg:border-r border-gray-200">
                    <nav class="flex flex-col space-y-1">
                        <button *ngFor="let tab of tabs"
                                class="tab-button py-4 px-4 text-left text-sm font-medium flex items-center space-x-2"
                                [class.bg-accent]="activeTab === tab.id"
                                [class.text-white]="activeTab === tab.id"
                                [class.text-secondary]="activeTab !== tab.id"
                                (click)="setActiveTab(tab.id)">
                            <i class="bi" [ngClass]="tab.icon"></i>
                            <span>{{ tab.label }}</span>
                        </button>
                    </nav>
                </div>
                <!-- Tab Content -->
                <div class="w-full lg:w-3/4 p-4">
                    <ng-container *ngIf="activeTab === 'identification'">
                        <div class="mb-8">
                            <h2 class="text-xl font-bold text-secondary">Identification</h2>
                            <div class="flex flex-col lg:flex-row">
                                <!-- Vertical Sub-tabs -->
                                <div class="w-full lg:w-1/4 border-b lg:border-b-0 lg:border-r border-gray-200">
                                    <ul class="space-y-4 p-4">
                                        <li *ngFor="let subTab of identificationTabs">
                                            <button (click)="setIdentificationActiveTab(subTab.id)"
                                                    class="w-full text-left py-2 px-4 rounded-lg focus:outline-none"
                                                    [ngClass]="{'bg-gray-100': identificationActiveTab === subTab.id}">{{ subTab.label }}</button>
                                        </li>
                                    </ul>
                                </div>
                                <!-- Sub-tab Content -->
                                <div class="w-full lg:w-3/4 p-4 space-y-8">
                                    <div *ngIf="identificationActiveTab === 'basicData'" class="space-y-4">
                                        <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                                            <h3 class="text-xl font-semibold text-secondary mb-4">Basic Data</h3>
                                            <div class="text-gray-700 space-y-2">
                                                <p>Project reference number: {{ project.stages.identification.basicData.projectReferenceNumber }}</p>
                                                <p>Project owner: {{ project.stages.identification.basicData.projectOwner }}</p>
                                                <p>Sector, sub-sector: {{ project.stages.identification.basicData.sectorSubsector }}</p>
                                                <p>Project name: {{ project.stages.identification.basicData.projectName }}</p>
                                                <p>Project location: {{ project.stages.identification.basicData.projectLocation }}</p>
                                                <p>Purpose: {{ project.stages.identification.basicData.purpose }}</p>
                                                <p>Project description: {{ project.stages.identification.basicData.projectDescription }}</p>
                                                <div>
                                                    <p class="font-semibold">Project officials and roles:</p>
                                                    <ul class="list-disc list-inside">
                                                        <li *ngFor="let official of project.stages.identification.basicData.projectOfficialsAndRoles" class="text-secondary">
                                                            {{ official.role }}: {{ official.name }}
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div *ngIf="identificationActiveTab === 'climateFinanceData'" class="space-y-4">
                                        <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                                            <h3 class="text-xl font-semibold text-secondary mb-4">Climate Finance Data</h3>
                                            <div class="text-gray-700 space-y-2">
                                                <p>Climate objective: {{ project.stages.identification.climateFinanceData.climateObjective }}</p>
                                                <p>Financial instrument: {{ project.stages.identification.climateFinanceData.financialInstrument }}</p>
                                                <p>Climate transformation: {{ project.stages.identification.climateFinanceData.climateTransformation }}</p>
                                                <p>Climate finance decision-making: {{ project.stages.identification.climateFinanceData.climateFinanceDecisionMaking }}</p>
                                                <p>Nationally determined contributions: {{ project.stages.identification.climateFinanceData.nationallyDeterminedContributions }}</p>
                                                <p>Paris agreement: {{ project.stages.identification.climateFinanceData.parisAgreement }}</p>
                                                <p>Amount of investment: {{ project.stages.identification.climateFinanceData.amountOfInvestment }}</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div *ngIf="identificationActiveTab === 'institutionalSustainabilityData'" class="space-y-4">
                                        <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                                            <h3 class="text-xl font-semibold text-secondary mb-4">Institutional Sustainability Data</h3>
                                            <div class="text-gray-700 space-y-2">
                                                <p>Policy coherence documentation: {{ project.stages.identification.institutionalSustainabilityData.policyCoherenceDocumentation }}</p>
                                                <p>Number of Freedom of Information requests: {{ project.stages.identification.institutionalSustainabilityData.numberOfFreedomOfInformationRequests }}</p>
                                                <p>Lobbying meetings minutes: {{ project.stages.identification.institutionalSustainabilityData.lobbyingMeetingsMinutes }}</p>
                                                <p>Number of lobbying activities: {{ project.stages.identification.institutionalSustainabilityData.numberOfLobbyingActivities }}</p>
                                                <p>Number of Freedom of Information answers: {{ project.stages.identification.institutionalSustainabilityData.numberOfFreedomOfInformationAnswers }}</p>
                                                <p>Freedom of Information requests and answers: {{ project.stages.identification.institutionalSustainabilityData.freedomOfInformationRequestsAndAnswers }}</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div *ngIf="identificationActiveTab === 'attachments'" class="space-y-4">
                                        <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                                            <h3 class="text-xl font-semibold text-secondary mb-4">Supporting Documents</h3>
                                            <ul class="list-disc list-inside space-y-2">
                                                <li *ngFor="let attachment of project.stages.identification.attachments" class="text-secondary">
                                                    <a [href]="attachment.link" class="text-accent hover:underline">{{ attachment.title }}</a> - {{ attachment.description }}
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </ng-container>
                    <!-- Placeholder for the rest of the tabs -->
                    <div *ngIf="activeTab === 'preparation'" class="tab-content space-y-12">
                        <h2 class="text-xl font-bold text-secondary">Preparation</h2>
                        <div class="flex flex-col lg:flex-row">
                            <!-- Vertical Sub-tabs -->
                            <div class="w-full lg:w-1/4 border-b lg:border-b-0 lg:border-r border-gray-200">
                                <ul class="space-y-4 p-4">
                                    <li *ngFor="let subTab of preparationTabs">
                                        <button (click)="setPreparationActiveTab(subTab.id)"
                                                class="w-full text-left py-2 px-4 rounded-lg focus:outline-none"
                                                [ngClass]="{'bg-gray-100': preparationActiveTab === subTab.id}">{{ subTab.label }}</button>
                                    </li>
                                </ul>
                            </div>
                            <!-- Sub-tab Content -->
                            <div class="w-full lg:w-3/4 p-4 space-y-8">
                                <div *ngIf="preparationActiveTab === 'basicData'" class="space-y-4">
                                    <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                                        <h3 class="text-xl font-semibold text-secondary mb-4">Basic Data</h3>
                                        <div class="text-gray-700 space-y-2">
                                            <p>Project Scope: {{ project.stages.preparation.basicData.projectScope }}</p>
                                            <p>Contact Details: {{ project.stages.preparation.basicData.contactDetails }}</p>
                                            <p>Funding Sources: {{ project.stages.preparation.basicData.fundingSources }}</p>
                                            <p>Project Budget: {{ project.stages.preparation.basicData.projectBudget }}</p>
                                            <p>Project Budget Approval Date: {{ project.stages.preparation.basicData.projectBudgetApprovalDate }}</p>
                                            <div>
                                                <p class="font-semibold">Attachments:</p>
                                                <ul class="list-disc list-inside">
                                                    <li *ngFor="let attachment of project.stages.preparation.basicData.attachments" class="text-secondary">
                                                        <a [href]="attachment.link" class="text-accent hover:underline">{{ attachment.title }}</a> - {{ attachment.description }}
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="preparationActiveTab === 'climateFinanceData'" class="space-y-4">
                                    <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                                        <h3 class="text-xl font-semibold text-secondary mb-4">Climate Finance Data</h3>
                                        <div class="text-gray-700 space-y-2">
                                            <p>Accredited Entity Type: {{ project.stages.preparation.climateFinanceData.accreditedEntityType }}</p>
                                            <p>Project Approval Period: {{ project.stages.preparation.climateFinanceData.projectApprovalPeriod }}</p>
                                            <p>Project Preparation Period: {{ project.stages.preparation.climateFinanceData.projectPreparationPeriod }}</p>
                                            <p>Non-Climate Co-Benefits: {{ project.stages.preparation.climateFinanceData.nonClimateCoBenefits }}</p>
                                            <p>Funding Source: {{ project.stages.preparation.climateFinanceData.fundingSource }}</p>
                                            <p>Green Climate Fund Accredited Entity: {{ project.stages.preparation.climateFinanceData.greenClimateFundAccreditedEntity }}</p>
                                            <p>Project Preparation Costs: {{ project.stages.preparation.climateFinanceData.projectPreparationCosts }}</p>
                                            <p>Ratio of Co-Finance: {{ project.stages.preparation.climateFinanceData.ratioOfCoFinance }}</p>
                                            <p>Terms of Climate Finance: {{ project.stages.preparation.climateFinanceData.termsOfClimateFinance }}</p>
                                            <p>Carbon Efficiency: {{ project.stages.preparation.climateFinanceData.carbonEfficiency }}</p>
                                            <div>
                                                <p class="font-semibold">Attachments:</p>
                                                <ul class="list-disc list-inside">
                                                    <li *ngFor="let attachment of project.stages.preparation.climateFinanceData.attachments" class="text-secondary">
                                                        <a [href]="attachment.link" class="text-accent hover:underline">{{ attachment.title }}</a> - {{ attachment.description }}
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="preparationActiveTab === 'environmentalAndClimateSustainabilityData'" class="space-y-4">
                                    <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                                        <h3 class="text-xl font-semibold text-secondary mb-4">Environmental and Climate Sustainability Data</h3>
                                        <div class="text-gray-700 space-y-2">
                                            <p>Conservation Measures: {{ project.stages.preparation.environmentalAndClimateSustainabilityData.conservationMeasures }}</p>
                                            <p>Environmental Impact Category: {{ project.stages.preparation.environmentalAndClimateSustainabilityData.environmentalImpactCategory }}</p>
                                            <p>Environmental Measures: {{ project.stages.preparation.environmentalAndClimateSustainabilityData.environmentalMeasures }}</p>
                                            <p>Environmental Licenses and Exemptions: {{ project.stages.preparation.environmentalAndClimateSustainabilityData.environmentalLicensesAndExemptions }}</p>
                                            <p>Climate and Disaster Risk Assessment: {{ project.stages.preparation.environmentalAndClimateSustainabilityData.climateAndDisasterRiskAssessment }}</p>
                                            <p>Protected Area: {{ project.stages.preparation.environmentalAndClimateSustainabilityData.protectedArea }}</p>
                                            <p>Climate Measures: {{ project.stages.preparation.environmentalAndClimateSustainabilityData.climateMeasures }}</p>
                                            <p>Forecast of Greenhouse Gas Emissions: {{ project.stages.preparation.environmentalAndClimateSustainabilityData.forecastOfGreenHouseGasEmissions }}</p>
                                            <div>
                                                <p class="font-semibold">Attachments:</p>
                                                <ul class="list-disc list-inside">
                                                    <li *ngFor="let attachment of project.stages.preparation.environmentalAndClimateSustainabilityData.attachments" class="text-secondary">
                                                        <a [href]="attachment.link" class="text-accent hover:underline">{{ attachment.title }}</a> - {{ attachment.description }}
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="preparationActiveTab === 'economicAndFinancialSustainabilityData'" class="space-y-4">
                                    <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                                        <h3 class="text-xl font-semibold text-secondary mb-4">Economic and Financial Sustainability Data</h3>
                                        <div class="text-gray-700 space-y-2">
                                            <p>Maintenance Plan: {{ project.stages.preparation.economicAndFinancialSustainabilityData.maintenancePlan }}</p>
                                            <p>Value for Money: {{ project.stages.preparation.economicAndFinancialSustainabilityData.valueForMoney }}</p>
                                            <p>Budget Projections: {{ project.stages.preparation.economicAndFinancialSustainabilityData.budgetProjections }}</p>
                                            <p>Life Cycle Cost: {{ project.stages.preparation.economicAndFinancialSustainabilityData.lifeCycleCost }}</p>
                                            <p>Procurement Strategy: {{ project.stages.preparation.economicAndFinancialSustainabilityData.procurementStrategy }}</p>
                                            <p>Cost Benefit Analysis: {{ project.stages.preparation.economicAndFinancialSustainabilityData.costBenefitAnalysis }}</p>
                                            <p>Life Cycle Cost Calculation Methodology: {{ project.stages.preparation.economicAndFinancialSustainabilityData.lifeCycleCostCalculationMethodology }}</p>
                                            <p>Budget for Preparation: {{ project.stages.preparation.economicAndFinancialSustainabilityData.budgetForPreparation }}</p>
                                            <p>Funding Source for Preparation: {{ project.stages.preparation.economicAndFinancialSustainabilityData.fundingSourceForPreparation }}</p>
                                            <p>Asset Lifetime: {{ project.stages.preparation.economicAndFinancialSustainabilityData.assetLifetime }}</p>
                                            <div>
                                                <p class="font-semibold">Attachments:</p>
                                                <ul class="list-disc list-inside">
                                                    <li *ngFor="let attachment of project.stages.preparation.economicAndFinancialSustainabilityData.attachments" class="text-secondary">
                                                        <a [href]="attachment.link" class="text-accent hover:underline">{{ attachment.title }}</a> - {{ attachment.description }}
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="preparationActiveTab === 'institutionalSustainabilityData'" class="space-y-4">
                                    <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                                        <h3 class="text-xl font-semibold text-secondary mb-4">Institutional Sustainability Data</h3>
                                        <div class="text-gray-700 space-y-2">
                                            <p>Number of Freedom of Information Requests: {{ project.stages.preparation.institutionalSustainabilityData.numberOfFreedomOfInformationRequests }}</p>
                                            <p>Number of Freedom of Information Answers: {{ project.stages.preparation.institutionalSustainabilityData.numberOfFreedomOfInformationAnswers }}</p>
                                            <p>Freedom of Information Requests and Answers: {{ project.stages.preparation.institutionalSustainabilityData.freedomOfInformationRequestsAndAnswers }}</p>
                                            <div>
                                                <p class="font-semibold">Attachments:</p>
                                                <ul class="list-disc list-inside">
                                                    <li *ngFor="let attachment of project.stages.preparation.institutionalSustainabilityData.attachments" class="text-secondary">
                                                        <a [href]="attachment.link" class="text-accent hover:underline">{{ attachment.title }}</a> - {{ attachment.description }}
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="preparationActiveTab === 'socialSustainabilityData'" class="space-y-4">
                                    <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                                        <h3 class="text-xl font-semibold text-secondary mb-4">Social Sustainability Data</h3>
                                        <div class="text-gray-700 space-y-2">
                                            <p>Number of Beneficiaries: {{ project.stages.preparation.socialSustainabilityData.numberOfBeneficiaries }}</p>
                                            <p>Indigenous Land: {{ project.stages.preparation.socialSustainabilityData.indigenousLand }}</p>
                                            <p>Inclusive Design: {{ project.stages.preparation.socialSustainabilityData.inclusiveDesign }}</p>
                                            <p>Land Compensation Budget: {{ project.stages.preparation.socialSustainabilityData.landCompensationBudget }}</p>
                                            <p>Public Consultation Meetings: {{ project.stages.preparation.socialSustainabilityData.publicConsultationMeetings }}</p>
                                            <p>Beneficiaries: {{ project.stages.preparation.socialSustainabilityData.beneficiaries }}</p>
                                            <p>Labor Obligations: {{ project.stages.preparation.socialSustainabilityData.laborObligations }}</p>
                                            <div>
                                                <p class="font-semibold">Attachments:</p>
                                                <ul class="list-disc list-inside">
                                                    <li *ngFor="let attachment of project.stages.preparation.socialSustainabilityData.attachments" class="text-secondary">
                                                        <a [href]="attachment.link" class="text-accent hover:underline">{{ attachment.title }}</a> - {{ attachment.description }}
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <ng-container *ngIf="activeTab === 'tender-management'">
                        <div class="mb-8">
                            <h2 class="text-xl font-bold text-secondary">Tender Management</h2>
                            <div class="flex flex-col lg:flex-row">
                                <!-- Vertical Sub-tabs -->
                                <div class="w-full lg:w-1/4 border-b lg:border-b-0 lg:border-r border-gray-200">
                                    <ul class="space-y-4 p-4">
                                        <li *ngFor="let subTab of tenderManagementTabs">
                                            <button (click)="setTenderManagementActiveTab(subTab.id)"
                                                    class="w-full text-left py-2 px-4 rounded-lg focus:outline-none"
                                                    [ngClass]="{'bg-gray-100': tenderManagementActiveTab === subTab.id}">{{ subTab.label }}</button>
                                        </li>
                                    </ul>
                                </div>
                                <!-- Sub-tab Content -->
                                <div class="w-full lg:w-3/4 p-4 space-y-8">
                                    <div *ngIf="tenderManagementActiveTab === 'basicData'" class="space-y-4">
                                        <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                                            <h3 class="text-xl font-semibold text-secondary mb-4">Basic Data</h3>
                                            <div class="text-gray-700 space-y-2">
                                                <p>Contract price: {{ project.stages.tenderManagement.basicData.contractPrice }}</p>
                                                <p>Contract title: {{ project.stages.tenderManagement.basicData.contractTitle }}</p>
                                                <p>Contract duration: {{ project.stages.tenderManagement.basicData.contractDuration }}</p>
                                                <p>Contract scope of work: {{ project.stages.tenderManagement.basicData.contractScopeOfWork }}</p>
                                                <p>Contract type: {{ project.stages.tenderManagement.basicData.contractType }}</p>
                                                <p>Contract administration entity: {{ project.stages.tenderManagement.basicData.contractAdministrationEntity }}</p>
                                                <p>Contract start date: {{ project.stages.tenderManagement.basicData.contractStartDate }}</p>
                                                <p>Procuring entity: {{ project.stages.tenderManagement.basicData.procuringEntity }}</p>
                                                <p>Procuring entity contact details: {{ project.stages.tenderManagement.basicData.procuringEntityContactDetails }}</p>
                                                <p>Procurement method: {{ project.stages.tenderManagement.basicData.procurementMethod }}</p>
                                                <p>Procurement process: {{ project.stages.tenderManagement.basicData.procurementProcess }}</p>
                                                <p>Contract firm: {{ project.stages.tenderManagement.basicData.contractFirm }}</p>
                                                <p>Number of firms tendering: {{ project.stages.tenderManagement.basicData.numberOfFirmsTendering }}</p>
                                                <div>
                                                    <p class="font-semibold">Contract officials and roles:</p>
                                                    <ul class="list-disc list-inside">
                                                        <li *ngFor="let official of project.stages.tenderManagement.basicData.contractOfficialsAndRoles" class="text-secondary">
                                                            {{ official.role }}: {{ official.name }}
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div *ngIf="tenderManagementActiveTab === 'institutionalSustainabilityData'" class="space-y-4">
                                        <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                                            <h3 class="text-xl font-semibold text-secondary mb-4">Institutional Sustainability Data</h3>
                                            <div class="text-gray-700 space-y-2">
                                                <p>Beneficial ownership: {{ project.stages.tenderManagement.institutionalSustainabilityData.beneficialOwnership }}</p>
                                                <p>Sustainability criteria: {{ project.stages.tenderManagement.institutionalSustainabilityData.sustainabilityCriteria }}</p>
                                                <p>Anti-corruption certifications: {{ project.stages.tenderManagement.institutionalSustainabilityData.antiCorruptionCertifications }}</p>
                                                <p>Number of freedom of information requests: {{ project.stages.tenderManagement.institutionalSustainabilityData.numberOfFreedomOfInformationRequests }}</p>
                                                <p>Number of freedom of information answers: {{ project.stages.tenderManagement.institutionalSustainabilityData.numberOfFreedomOfInformationAnswers }}</p>
                                                <p>Freedom of information requests and answers: {{ project.stages.tenderManagement.institutionalSustainabilityData.freedomOfInformationRequestsAndAnswers }}</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div *ngIf="tenderManagementActiveTab === 'environmentalAndClimateSustainabilityData'" class="space-y-4">
                                        <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                                            <h3 class="text-xl font-semibold text-secondary mb-4">Environmental And Climate Sustainability Data</h3>
                                            <div class="text-gray-700 space-y-2">
                                                <p>Number of environmental certifications: {{ project.stages.tenderManagement.environmentalAndClimateSustainabilityData.numberOfEnvironmentalCertifications }}</p>
                                                <p>Environmental certifications: {{ project.stages.tenderManagement.environmentalAndClimateSustainabilityData.environmentalCertifications }}</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div *ngIf="tenderManagementActiveTab === 'socialSustainabilityData'" class="space-y-4">
                                        <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                                            <h3 class="text-xl font-semibold text-secondary mb-4">Social Sustainability Data</h3>
                                            <div class="text-gray-700 space-y-2">
                                                <p>Labor budget: {{ project.stages.tenderManagement.socialSustainabilityData.laborBudget }}</p>
                                                <p>Health and safety certifications: {{ project.stages.tenderManagement.socialSustainabilityData.healthAndSafetyCertifications }}</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div *ngIf="tenderManagementActiveTab === 'attachments'" class="space-y-4">
                                        <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                                            <h3 class="text-xl font-semibold text-secondary mb-4">Attachments</h3>
                                            <ul class="list-disc list-inside space-y-2">
                                                <li *ngFor="let attachment of project.stages.tenderManagement.attachments" class="text-secondary">
                                                    <a [href]="attachment.link" class="text-accent hover:underline">{{ attachment.title }}</a> - {{ attachment.description }}
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </ng-container>

                    <ng-container *ngIf="activeTab === 'implementation'">
                        <div class="mb-8">
                            <h2 class="text-xl font-bold text-secondary">Implementation</h2>
                            <div class="flex flex-col lg:flex-row">
                                <!-- Vertical Sub-tabs -->
                                <div class="w-full lg:w-1/4 border-b lg:border-b-0 lg:border-r border-gray-200">
                                    <ul class="space-y-4 p-4">
                                        <li *ngFor="let subTab of implementationTabs">
                                            <button (click)="setImplementationActiveTab(subTab.id)"
                                                    class="w-full text-left py-2 px-4 rounded-lg focus:outline-none"
                                                    [ngClass]="{'bg-gray-100': implementationActiveTab === subTab.id}">{{ subTab.label }}</button>
                                        </li>
                                    </ul>
                                </div>
                                <!-- Sub-tab Content -->
                                <div class="w-full lg:w-3/4 p-4 space-y-8">
                                    <div *ngIf="implementationActiveTab === 'basicData'" class="space-y-4">
                                        <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                                            <h3 class="text-xl font-semibold text-secondary mb-4">Basic Data</h3>
                                            <div class="text-gray-700 space-y-2">
                                                <p>List of escalation approvals: {{ project.stages.implementation.basicData.listOfEscalationApprovals }}</p>
                                                <p>List of variations, changes, amendments: {{ project.stages.implementation.basicData.listOfVariationsChangesAmendments }}</p>
                                                <p>Contract amendments: {{ project.stages.implementation.basicData.contractAmendments }}</p>
                                                <p>Variation to contract scope: {{ project.stages.implementation.basicData.variationToContractScope }}</p>
                                                <p>Reasons for price changes: {{ project.stages.implementation.basicData.reasonsForPriceChanges }}</p>
                                                <p>Variation to contract duration: {{ project.stages.implementation.basicData.variationToContractDuration }}</p>
                                                <p>Variation to contract price: {{ project.stages.implementation.basicData.variationToContractPrice }}</p>
                                                <p>Reasons for scope: {{ project.stages.implementation.basicData.reasonsForScope }}</p>
                                                <p>Payment certificates: {{ project.stages.implementation.basicData.paymentCertificates }}</p>
                                                <p>Quality assurance reports: {{ project.stages.implementation.basicData.qualityAssuranceReports }}</p>
                                                <p>Escalation of contract price: {{ project.stages.implementation.basicData.escalationOfContractPrice }}</p>
                                                <p>Reasons for duration changes: {{ project.stages.implementation.basicData.reasonsForDurationChanges }}</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div *ngIf="implementationActiveTab === 'institutionalSustainabilityData'" class="space-y-4">
                                        <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                                            <h3 class="text-xl font-semibold text-secondary mb-4">Institutional Sustainability Data</h3>
                                            <div class="text-gray-700 space-y-2">
                                                <p>Number of freedom of information requests: {{ project.stages.implementation.institutionalSustainabilityData.numberOfFreedomOfInformationRequests }}</p>
                                                <p>Number of freedom of information answers: {{ project.stages.implementation.institutionalSustainabilityData.numberOfFreedomOfInformationAnswers }}</p>
                                                <p>Oversight reports: {{ project.stages.implementation.institutionalSustainabilityData.oversightReports }}</p>
                                                <p>Freedom of information requests and answers: {{ project.stages.implementation.institutionalSustainabilityData.freedomOfInformationRequestsAndAnswers }}</p>
                                                <p>Independent mid-term evaluation: {{ project.stages.implementation.institutionalSustainabilityData.independentMidTermEvaluation }}</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div *ngIf="implementationActiveTab === 'environmentalAndClimateSustainabilityData'" class="space-y-4">
                                        <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                                            <h3 class="text-xl font-semibold text-secondary mb-4">Environmental And Climate Sustainability Data</h3>
                                            <div class="text-gray-700 space-y-2">
                                                <p>Environmental measures: {{ project.stages.implementation.environmentalAndClimateSustainabilityData.environmentalMeasures }}</p>
                                                <p>Climate measures: {{ project.stages.implementation.environmentalAndClimateSustainabilityData.climateMeasures }}</p>
                                                <p>Conservation measures: {{ project.stages.implementation.environmentalAndClimateSustainabilityData.conservationMeasures }}</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div *ngIf="implementationActiveTab === 'climateFinanceData'" class="space-y-4">
                                        <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                                            <h3 class="text-xl font-semibold text-secondary mb-4">Climate Finance Data</h3>
                                            <div class="text-gray-700 space-y-2">
                                                <p>Type of monitoring: {{ project.stages.implementation.climateFinanceData.typeOfMonitoring }}</p>
                                                <p>Performance monitoring: {{ project.stages.implementation.climateFinanceData.performanceMonitoring }}</p>
                                                <p>Reporting period: {{ project.stages.implementation.climateFinanceData.reportingPeriod }}</p>
                                                <p>Independent monitoring: {{ project.stages.implementation.climateFinanceData.independentMonitoring }}</p>
                                                <p>Disbursement records: {{ project.stages.implementation.climateFinanceData.disbursementRecords }}</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div *ngIf="implementationActiveTab === 'economicAndFinancialSustainabilityData'" class="space-y-4">
                                        <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                                            <h3 class="text-xl font-semibold text-secondary mb-4">Economic And Financial Sustainability Data</h3>
                                            <div class="text-gray-700 space-y-2">
                                                <p>Budget for implementation: {{ project.stages.implementation.economicAndFinancialSustainabilityData.budgetForImplementation }}</p>
                                                <p>Funding source for implementation: {{ project.stages.implementation.economicAndFinancialSustainabilityData.fundingSourceForImplementation }}</p>
                                                <p>Budget shortfall: {{ project.stages.implementation.economicAndFinancialSustainabilityData.budgetShortfall }}</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div *ngIf="implementationActiveTab === 'socialSustainabilityData'" class="space-y-4">
                                        <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                                            <h3 class="text-xl font-semibold text-secondary mb-4">Social Sustainability Data</h3>
                                            <div class="text-gray-700 space-y-2">
                                                <p>Inclusive implementation: {{ project.stages.implementation.socialSustainabilityData.inclusiveImplementation }}</p>
                                                <p>Jobs generated: {{ project.stages.implementation.socialSustainabilityData.jobsGenerated }}</p>
                                                <p>Construction materials testing: {{ project.stages.implementation.socialSustainabilityData.constructionMaterialsTesting }}</p>
                                                <p>Workers accidents: {{ project.stages.implementation.socialSustainabilityData.workersAccidents }}</p>
                                                <p>Building inspections: {{ project.stages.implementation.socialSustainabilityData.buildingInspections }}</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div *ngIf="implementationActiveTab === 'attachments'" class="space-y-4">
                                        <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                                            <h3 class="text-xl font-semibold text-secondary mb-4">Attachments</h3>
                                            <ul class="list-disc list-inside space-y-2">
                                                <li *ngFor="let attachment of project.stages.implementation.attachments" class="text-secondary">
                                                    <a [href]="attachment.link" class="text-accent hover:underline">{{ attachment.title }}</a> - {{ attachment.description }}
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </ng-container>

                    <div *ngIf="activeTab === 'completion'" class="tab-content space-y-12">
                        <h2 class="text-xl font-bold text-secondary">Completion</h2>
                        <!-- Content for Completion Tab -->
                    </div>
                    <div *ngIf="activeTab === 'operation-and-maintenance'" class="tab-content space-y-12">
                        <h2 class="text-xl font-bold text-secondary">Operation and Maintenance</h2>
                        <!-- Content for Operation and Maintenance Tab -->
                    </div>
                    <div *ngIf="activeTab === 'decommissioning'" class="tab-content space-y-12">
                        <h2 class="text-xl font-bold text-secondary">Decommissioning</h2>
                        <!-- Content for Decommissioning Tab -->
                    </div>
                </div>
            </div>
        </div>
        <ng-template #loading>
            <div class="flex justify-center items-center h-64">
                <div class="spinner-border text-accent" role="status">
                    <span class="sr-only">Loading...</span>
                </div>
            </div>
        </ng-template>
    </div>
</div>
