<div class="container mx-auto p-4 bg-white rounded-lg max-w-4xl">
  <h1 class="text-2xl font-bold text-center mb-6">OC4IDS in Action: Explore Sample Infrastructure Projects</h1>



  <div class="text-center mt-4 px-6 py-3 bg-blue-100 border border-blue-200 rounded-md text-blue-800 shadow-sm">
    <p class="text-sm">Interactive Demo: Explore sample infrastructure projects using OC4IDS. Note: Some data is purely illustrative.</p>
  </div>









  <!-- Tabs for mobile view -->
  <div class="block sm:hidden">
    <label for="tabs" class="block text-lg font-medium text-gray-700 mb-2">Select a tab</label>
    <select id="tabs" name="tabs"
            class="block w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500 text-gray-700 p-2"
            (change)="onTabChange($event)" [(ngModel)]="activeTab">
      <option value="worked-example">Worked Example</option>
      <option value="data-points">Data Points</option>
    </select>
  </div>

  <!-- Desktop view: Tabs navigation -->
  <div class="hidden sm:flex justify-center space-x-4 mb-6 mt-6" aria-label="Tabs">
    <a *ngFor="let tab of tabs" (click)="switchTab(tab.id)" [ngClass]="{'active': activeTab === tab.id}" class="tab-link">
      {{ tab.label }}
    </a>
  </div>


  <!-- Tab content -->
  <div class="bg-white border border-gray-200 rounded-lg p-4" [ngSwitch]="activeTab">
    <div *ngSwitchCase="'data-points'">
      <ngx-json-viewer class="ngx-json-viewer" [json]="jsonData" [expanded]="false"></ngx-json-viewer>
    </div>

    <div *ngSwitchCase="'sample-projects'" class="space-y-4">

      <!-- List of sample projects using Bootstrap classes for enhanced styling -->
      <div class="space-y-4">
        <div>
          <h1>Select a project to View details</h1>
        </div>
        <!-- Loop through filtered projects array -->
        <ng-container *ngFor="let project of sampleProjects">
          <div class="p-4 bg-white rounded-lg border border-gray-200 hover:shadow-md transition-shadow duration-300">
            <div class="flex justify-between items-center">
              <!-- Project Title and Phase -->
              <div class="flex-1">
                <h2 class="text-lg font-semibold text-gray-900 truncate">{{ project.title }}</h2>
                <span class="ml-1 text-xs font-medium text-gray-700 bg-gray-100 rounded-full px-2 py-1">
                  {{ project.phase }}
                </span>
              </div>
              <!-- View Details Button -->
              <button (click)="toggleProjectDetails(project.id)"
                      [ngClass]="{
                  'bg-gray-600 text-white hover:bg-gray-700': isProjectDetailsOpen(project.id),
                  'bg-gray-200 text-gray-900 hover:bg-gray-300': !isProjectDetailsOpen(project.id)
                }"
                      class="px-4 py-1 text-xs rounded-full focus:outline-none transition-colors duration-150 ease-in-out">
                {{ isProjectDetailsOpen(project.id) ? 'Close Details' : 'View Details' }}
              </button>
            </div>

            <!-- Expanded section for project details -->
            <!-- Project details section -->
            <div *ngIf="isProjectDetailsOpen(project.id)" class="mt-4 p-4 border-t border-gray-200 ">

              <!-- Project Phase spotlight -->
              <div class="my-4 p-4 ">
                <h3 class="text-lg font-semibold text-gray-800">Project Overview: {{ project.title }}</h3>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 mb-6 bg-gray-900 p-4 rounded-lg text-gray-200">
                  <!-- Basic Project Information -->
                  <div class="bg-gray-800 p-3 rounded-lg shadow">
                    <p class="text-sm font-medium text-blue-400"><strong>ID:</strong> {{ project.id }}</p>
                    <p class="text-sm">{{ project.description }}</p>
                    <p class="text-sm font-medium text-blue-400"><strong>Status:</strong> {{ project.status | titlecase }}</p>
                    <p class="text-sm font-medium text-blue-400"><strong>Sector:</strong> {{ project.sector.join(', ') }}</p>
                  </div>
                  <div class="bg-gray-800 p-3 rounded-lg shadow">
                    <p class="text-sm font-medium text-blue-400"><strong>Purpose:</strong> {{ project.purpose }}</p>
                    <p class="text-sm font-medium text-blue-400"><strong>Type:</strong> {{ project.type }}</p>
                    <p class="text-sm font-medium text-blue-400"><strong>Location:</strong> {{ project.locations[0].description }}</p>
                    <p class="text-sm font-medium text-blue-400"><strong>Coordinates:</strong> {{ project.locations[0].geometry.coordinates.join(', ') }}</p>
                  </div>

                  <!-- Budget Details -->
                  <div class="bg-gray-800 p-3 rounded-lg shadow">
                    <p class="text-sm font-medium text-orange-500"><strong>Budget:</strong> {{ project.budget.amount.amount | currency: project.budget.amount.currency }}</p>
                    <p *ngFor="let breakdown of project.budget.budgetBreakdowns" class="text-sm text-gray-200">
                      <strong>{{ breakdown.description }}:</strong> {{ breakdown.amount.amount | currency: breakdown.amount.currency }}
                    </p>
                  </div>

                  <!-- Stakeholders and Documents -->
                  <div class="bg-gray-800 p-3 rounded-lg shadow">
                    <p class="text-sm font-medium text-green-500"><strong>Stakeholders:</strong></p>
                    <ul class="text-sm">
                      <li *ngFor="let party of project.parties">{{ party.name }} ({{ party.roles.join(', ') }})</li>
                    </ul>
                  </div>
                  <div class="bg-gray-800 p-3 rounded-lg shadow">
                    <p class="text-sm font-medium text-green-500"><strong>Documents:</strong></p>
                    <ul class="text-sm">
                      <li *ngFor="let document of project.documents">
                        <a [href]="document.url" target="_blank" class="text-blue-400">{{ document.title }}</a>
                      </li>
                    </ul>
                  </div>

                  <!-- Policy Alignment -->
                  <div class="bg-gray-800 p-3 rounded-lg shadow col-span-1 md:col-span-2">
                    <p class="text-sm font-medium text-orange-500"><strong>Policy and Strategic Alignment:</strong></p>
                    <ul class="text-sm">
                      <li *ngFor="let policy of project.policyAlignment.policies">{{ policy }}</li>
                    </ul>
                    <ul class="text-sm">
                      <li *ngFor="let classification of project.additionalClassifications">
                        {{ classification.scheme }}: {{ classification.description }}
                      </li>
                    </ul>
                  </div>
                </div>


                <!-- Identification Phase Information Section -->
                <div *ngIf="project.phase === 'Identification'" class="bg-gray-900 mt-6 p-6 rounded-lg">
                  <div class="max-w-4xl mx-auto divide-y divide-gray-700">
                    <!-- Identification Phase Collapsible Section -->
                    <div class="pt-6">
                      <dt>
                        <!-- Expand/collapse question button -->
                        <button type="button" class="flex w-full items-start justify-between text-left text-gray-300" (click)="identificationOpen = !identificationOpen" [attr.aria-expanded]="identificationOpen.toString()">
                          <span class="text-lg font-semibold">Identification Phase</span>
                          <span class="ml-6 h-7 flex items-center">
            <!-- Icon when question is collapsed/expanded -->
            <svg *ngIf="!identificationOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/>
            </svg>
            <svg *ngIf="identificationOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7"/>
            </svg>
          </span>
                        </button>
                      </dt>
                      <dd class="mt-2" [id]="identificationOpen ? 'identification-content' : null" *ngIf="identificationOpen">
                        <div class="bg-gray-800 p-4 rounded-lg shadow-inner">
                          <dl class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2 text-sm text-gray-400">
                            <!-- Identification Period -->
                            <div class="bg-gray-700 p-3 rounded-lg">
                              <dt class="font-medium text-green-500">Identification Period</dt>
                              <dd>{{ project.identificationPeriod.startDate | date }} - {{ project.identificationPeriod.endDate | date }}</dd>
                            </div>

                            <!-- Environmental Impact Category -->
                            <div class="bg-gray-700 p-3 rounded-lg">
                              <dt class="font-medium text-green-500">Environmental Impact Category</dt>
                              <dd>{{ project.environment.impactCategories[0].id }} - {{ project.environment.impactCategories[0].description }}</dd>
                            </div>

                            <!-- Environmental Impact Assessment Conducted -->
                            <div class="bg-gray-700 p-3 rounded-lg">
                              <dt class="font-medium text-green-500">Impact Assessment Conducted</dt>
                              <dd>{{ project.environment.hasImpactAssessment ? 'Yes' : 'No' }}</dd>
                            </div>

                            <!-- In Protected Area -->
                            <div class="bg-gray-700 p-3 rounded-lg">
                              <dt class="font-medium text-green-500">In Protected Area</dt>
                              <dd>{{ project.environment.inProtectedArea ? 'Yes' : 'No' }}</dd>
                            </div>

                            <!-- Affects Indigenous Lands -->
                            <div class="bg-gray-700 p-3 rounded-lg">
                              <dt class="font-medium text-green-500">Affects Indigenous Lands</dt>
                              <dd>{{ project.social.inIndigenousLand ? 'Yes' : 'No' }}</dd>
                            </div>

                            <!-- Lobbying Meetings -->
                            <div *ngIf="project.lobbyingMeetings?.length > 0" class="bg-gray-700 p-3 rounded-lg">
                              <dt class="font-medium text-green-500">Lobbying Meetings</dt>
                              <dd>
                                <ul class="list-disc pl-5 text-gray-400">
                                  <li *ngFor="let meeting of project.lobbyingMeetings">{{ meeting.date | date }} - {{ meeting.publicOffice?.organization?.name }}</li>
                                </ul>
                              </dd>
                            </div>

                            <!-- Climate Finance Details -->
                            <div *ngIf="project.climateFinance" class="col-span-2 bg-gray-700 p-3 rounded-lg">
                              <dt class="font-medium text-green-500">Climate Finance Details</dt>
                              <dd>
                                <div class="grid grid-cols-2 gap-x-4 gap-y-2 text-gray-400">
                                  <div><strong>Objective:</strong> {{ project.climateFinance.climateObjective }}</div>
                                  <div><strong>Instrument:</strong> {{ project.climateFinance.financialInstrument }}</div>
                                  <div><strong>Transformation:</strong> {{ project.climateFinance.climateTransformation }}</div>
                                  <div><strong>Decision Making:</strong> {{ project.climateFinance.climateFinanceDecisionMaking }}</div>
                                  <div><strong>NDCs Alignment:</strong> {{ project.climateFinance.nationallyDeterminedContributions }}</div>
                                  <div><strong>Paris Agreement:</strong> {{ project.climateFinance.parisAgreement }}</div>
                                  <div><strong>Beneficiaries:</strong> {{ project.climateFinance.beneficiaries }}</div>
                                  <div><strong>Investment Amount:</strong> {{ project.climateFinance.amountOfInvestment | currency }}</div>
                                  <div><strong>Funding Source:</strong> {{ project.climateFinance.fundingSource }}</div>
                                </div>
                              </dd>
                            </div>
                          </dl>
                        </div>
                      </dd>
                    </div>
                  </div>
                </div>



                <!-- Preparation Phase Information Section -->
                <div *ngIf="project.phase === 'Preparation'" class="bg-gray-800 p-6 rounded-lg">
                  <div class="max-w-4xl mx-auto divide-y divide-gray-700">

                    <!-- Identification Phase Collapsible Section -->
                    <div class="pt-6 mt-6">
                      <dt>
                        <!-- Expand/collapse question button -->
                        <button type="button" class="flex w-full items-start justify-between text-left text-gray-300" (click)="identificationOpen = !identificationOpen" [attr.aria-expanded]="identificationOpen.toString()">
                          <span class="text-lg font-semibold">Identification Phase</span>
                          <span class="ml-6 h-7 flex items-center">
                            <!-- Icon when question is collapsed/expanded -->
                            <svg *ngIf="!identificationOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                              <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/>
                            </svg>
                            <svg *ngIf="identificationOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                              <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7"/>
                            </svg>
                          </span>
                        </button>
                      </dt>
                      <dd class="mt-2" [id]="identificationOpen ? 'identification-content' : null" *ngIf="identificationOpen">
                        <div class="bg-gray-900 p-4 rounded-lg shadow-inner">
                          <h3 class="text-lg font-semibold text-blue-400 mb-4">Identification Phase</h3>
                          <dl class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2 text-sm text-gray-400">
                            <!-- Identification Period -->
                            <div class="bg-gray-800 p-3 rounded-lg">
                              <dt class="font-medium text-green-500">Identification Period</dt>
                              <dd>{{ project.identificationPeriod.startDate | date }} - {{ project.identificationPeriod.endDate | date }}</dd>
                            </div>

                            <!-- Environmental Impact Category -->
                            <div class="bg-gray-800 p-3 rounded-lg">
                              <dt class="font-medium text-green-500">Environmental Impact Category</dt>
                              <dd>{{ project.environment.impactCategories[0].id }} - {{ project.environment.impactCategories[0].description }}</dd>
                            </div>

                            <!-- Environmental Impact Assessment Conducted -->
                            <div class="bg-gray-800 p-3 rounded-lg">
                              <dt class="font-medium text-green-500">Impact Assessment Conducted</dt>
                              <dd>{{ project.environment.hasImpactAssessment ? 'Yes' : 'No' }}</dd>
                            </div>

                            <!-- In Protected Area -->
                            <div class="bg-gray-800 p-3 rounded-lg">
                              <dt class="font-medium text-green-500">In Protected Area</dt>
                              <dd>{{ project.environment.inProtectedArea ? 'Yes' : 'No' }}</dd>
                            </div>

                            <!-- Affects Indigenous Lands -->
                            <div class="bg-gray-800 p-3 rounded-lg">
                              <dt class="font-medium text-green-500">Affects Indigenous Lands</dt>
                              <dd>{{ project.social.inIndigenousLand ? 'Yes' : 'No' }}</dd>
                            </div>

                            <!-- Lobbying Meetings -->
                            <div *ngIf="project.lobbyingMeetings?.length > 0" class="bg-gray-800 p-3 rounded-lg">
                              <dt class="font-medium text-green-500">Lobbying Meetings</dt>
                              <dd>
                                <ul class="list-disc pl-5 text-gray-400">
                                  <li *ngFor="let meeting of project.lobbyingMeetings">{{ meeting.date | date }} - {{ meeting.publicOffice?.organization?.name }}</li>
                                </ul>
                              </dd>
                            </div>

                            <!-- Climate Finance Details -->
                            <div *ngIf="project.climateFinance" class="col-span-2 bg-gray-800 p-3 rounded-lg">
                              <dt class="font-medium text-green-500">Climate Finance Details</dt>
                              <dd>
                                <div class="grid grid-cols-2 gap-x-4 gap-y-2 text-gray-400">
                                  <div><strong>Objective:</strong> {{ project.climateFinance.climateObjective }}</div>
                                  <div><strong>Instrument:</strong> {{ project.climateFinance.financialInstrument }}</div>
                                  <div><strong>Transformation:</strong> {{ project.climateFinance.climateTransformation }}</div>
                                  <div><strong>Decision Making:</strong> {{ project.climateFinance.climateFinanceDecisionMaking }}</div>
                                  <div><strong>NDCs Alignment:</strong> {{ project.climateFinance.nationallyDeterminedContributions }}</div>
                                  <div><strong>Paris Agreement:</strong> {{ project.climateFinance.parisAgreement }}</div>
                                  <div><strong>Beneficiaries:</strong> {{ project.climateFinance.beneficiaries }}</div>
                                  <div><strong>Investment Amount:</strong> {{ project.climateFinance.amountOfInvestment | currency }}</div>
                                  <div><strong>Funding Source:</strong> {{ project.climateFinance.fundingSource }}</div>
                                </div>
                              </dd>
                            </div>
                          </dl>
                        </div>
                      </dd>
                    </div>

                  </div>
                </div>


                <div *ngIf="project.phase === 'Preparation'" class="bg-gray-900 p-6 mt-6 rounded-lg">
                  <div class="max-w-4xl mx-auto divide-y divide-gray-700">
                    <!-- Preparation Phase Collapsible Section -->
                    <div class="pt-6">
                      <dt>
                        <!-- Expand/collapse question button -->
                        <button type="button" class="flex w-full items-start justify-between text-left text-gray-300" (click)="preparationOpen = !preparationOpen" [attr.aria-expanded]="preparationOpen.toString()">
                          <span class="text-lg font-semibold">Preparation Phase</span>
                          <span class="ml-6 h-7 flex items-center">
                                <!-- Icon when question is collapsed/expanded -->
                                <svg *ngIf="!preparationOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/>
                                </svg>
                                <svg *ngIf="preparationOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7"/>
                                </svg>
                              </span>
                        </button>
                      </dt>
                      <dd class="mt-2" [id]="preparationOpen ? 'preparation-content' : null" *ngIf="preparationOpen">
                        <!-- Insert Preparation Phase details here -->
                        <div class="bg-gray-800 p-4 rounded-lg shadow-inner">
                          <dl class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2 text-sm text-gray-400">
                            <!-- Preparation Period -->
                            <div class="bg-gray-700 p-3 rounded-lg">
                              <dt class="font-medium text-green-500">Preparation Period Start Date</dt>
                              <dd>{{ project.preparationPeriod.startDate | date }}</dd>
                            </div>

                            <!-- Asset Lifetime -->
                            <div class="bg-gray-700 p-3 rounded-lg">
                              <dt class="font-medium text-green-500">Estimated Asset Lifetime</dt>
                              <dd>{{ (project.assetLifetime.durationInDays / 365) | number: '1.0-2' }} years</dd>
                            </div>

                            <!-- Budget Breakdowns -->
                            <div *ngFor="let breakdown of project.budget.budgetBreakdowns" class="bg-gray-700 p-3 rounded-lg">
                              <dt class="font-medium text-green-500">{{ breakdown.description }}</dt>
                              <dd>{{ breakdown.amount.amount | currency:breakdown.amount.currency }}</dd>
                            </div>

                            <!-- Preliminary Cost Estimate -->
                            <div *ngIf="project.costMeasurements.length > 0" class="bg-gray-700 p-3 rounded-lg">
                              <dt class="font-medium text-green-500">Preliminary Cost Estimate</dt>
                              <dd>{{ project.costMeasurements[0].lifeCycleCosting.value.amount | currency:project.costMeasurements[0].lifeCycleCosting.value.currency }}</dd>
                            </div>

                            <!-- Energy Production Forecast -->
                            <div *ngIf="project.forecasts.length > 0" class="bg-gray-700 p-3 rounded-lg">
                              <dt class="font-medium text-green-500">{{ project.forecasts[0].title }}</dt>
                              <dd>{{ project.forecasts[0].observations[0].value.amount }} {{ project.forecasts[0].observations[0].value.unit.name }}</dd>
                            </div>

                            <!-- Consulting Parties -->
                            <div *ngFor="let party of project.parties | filterRoles: 'consultant'" class="bg-gray-700 p-3 rounded-lg">
                              <dt class="font-medium text-green-500">Consulting {{ party.roles[0] | titlecase }}</dt>
                              <dd>{{ party.name }}</dd>
                            </div>

                            <!-- Feasibility Study Report -->
                            <div *ngIf="project.documents.length > 0" class="bg-gray-700 p-3 rounded-lg">
                              <dt class="font-medium text-green-500">Feasibility Study Report</dt>
                              <dd>{{ project.documents[0].title }} - Published on {{ project.documents[0].datePublished | date }}</dd>
                            </div>

                            <!-- Milestones -->
                            <div *ngFor="let milestone of project.milestones" class="bg-gray-700 p-3 rounded-lg">
                              <dt class="font-medium text-green-500">{{ milestone.title }}</dt>
                              <dd>Due by {{ milestone.dueDate | date }} - Status: {{ milestone.status | titlecase }}</dd>
                            </div>
                          </dl>
                        </div>
                      </dd>
                    </div>
                  </div>
                </div>


                <!-- Implementation Phase Information Section -->
                <div *ngIf="project.phase === 'Implementation'">
                  <div class="bg-white">
                    <div class="mx-auto max-w-7xl px-6 py-6 lg:px-8">
                      <div class="mx-auto max-w-4xl divide-y divide-gray-300">

                        <!-- Identification Phase Collapsible Section -->
                        <div class="pt-6">
                          <dt>
                            <!-- Expand/collapse question button -->
                            <button type="button" class="flex w-full items-start justify-between text-left" (click)="identificationOpen = !identificationOpen" [attr.aria-expanded]="identificationOpen.toString()">
                              <span class="text-lg font-semibold text-gray-900">Identification Phase</span>
                              <span class="ml-6 h-7 flex items-center">
                              <!-- Icon when question is collapsed/expanded -->
                              <svg *ngIf="!identificationOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                   viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/>
                              </svg>
                              <svg *ngIf="identificationOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                   viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7"/>
                              </svg>
                            </span>
                            </button>
                          </dt>
                          <dd class="mt-2" [id]="identificationOpen ? 'identification-content' : null"
                              *ngIf="identificationOpen">
                            <!-- Insert Identification Phase details here -->
                            <div class="mb-5">

                              <dl class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2 text-sm text-gray-700">
                                <!-- Identification Period -->
                                <div class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Identification Period</dt>
                                  <dd>{{ project.identificationPeriod.startDate | date }}
                                    - {{ project.identificationPeriod.endDate | date }}
                                  </dd>
                                </div>

                                <!-- Environmental Impact Category -->
                                <div class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Environmental Impact Category</dt>
                                  <dd>{{ project.environment.impactCategories[0].id }}
                                    - {{ project.environment.impactCategories[0].description }}
                                  </dd>
                                </div>

                                <!-- Environmental Impact Assessment Conducted -->
                                <div class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Impact Assessment Conducted</dt>
                                  <dd>{{ project.environment.hasImpactAssessment ? 'Yes' : 'No' }}</dd>
                                </div>

                                <!-- In Protected Area -->
                                <div class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">In Protected Area</dt>
                                  <dd>{{ project.environment.inProtectedArea ? 'Yes' : 'No' }}</dd>
                                </div>

                                <!-- Affects Indigenous Lands -->
                                <div class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Affects Indigenous Lands</dt>
                                  <dd>{{ project.social.inIndigenousLand ? 'Yes' : 'No' }}</dd>
                                </div>

                                <!-- Lobbying Meetings -->
                                <div *ngIf="project.lobbyingMeetings?.length > 0"
                                     class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Lobbying Meetings</dt>
                                  <dd>
                                    <ul class="list-disc pl-5">
                                      <li *ngFor="let meeting of project.lobbyingMeetings">{{ meeting.date | date }}
                                        - {{ meeting.publicOffice?.organization?.name }}
                                      </li>
                                    </ul>
                                  </dd>
                                </div>

                                <!-- Climate Finance Details -->
                                <div *ngIf="project.climateFinance"
                                     class="col-span-2 px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Climate Finance Details</dt>
                                  <dd>
                                    <div class="grid grid-cols-2 gap-x-4 gap-y-2">
                                      <div><strong>Objective:</strong> {{ project.climateFinance.climateObjective }}</div>
                                      <div><strong>Instrument:</strong> {{ project.climateFinance.financialInstrument }}
                                      </div>
                                      <div>
                                        <strong>Transformation:</strong> {{ project.climateFinance.climateTransformation }}
                                      </div>
                                      <div><strong>Decision
                                        Making:</strong> {{ project.climateFinance.climateFinanceDecisionMaking }}
                                      </div>
                                      <div><strong>NDCs
                                        Alignment:</strong> {{ project.climateFinance.nationallyDeterminedContributions }}
                                      </div>
                                      <div><strong>Paris Agreement:</strong> {{ project.climateFinance.parisAgreement }}
                                      </div>
                                      <div><strong>Beneficiaries:</strong> {{ project.climateFinance.beneficiaries }}
                                      </div>
                                      <div><strong>Investment
                                        Amount:</strong> {{ project.climateFinance.amountOfInvestment | currency }}
                                      </div>
                                      <div><strong>Funding Source:</strong> {{ project.climateFinance.fundingSource }}
                                      </div>
                                    </div>
                                  </dd>
                                </div>
                              </dl>
                            </div>

                          </dd>
                        </div>

                        <!-- Preparation Phase Collapsible Section -->
                        <div class="pt-6">
                          <dt>
                            <button type="button" class="flex w-full items-start justify-between text-left" (click)="preparationOpen = !preparationOpen" [attr.aria-expanded]="preparationOpen.toString()">
                              <span class="text-lg font-semibold text-gray-900">Preparation Phase</span>
                              <span class="ml-6 h-7 flex items-center">
                              <!-- Icon when question is collapsed/expanded -->
                              <svg *ngIf="!preparationOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                   viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/>
                              </svg>
                              <svg *ngIf="preparationOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                   viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7"/>
                              </svg>
                            </span>
                            </button>
                          </dt>
                          <dd class="mt-2" [id]="preparationOpen ? 'preparation-content' : null" *ngIf="preparationOpen">
                            <!-- Insert Preparation Phase details here -->
                            <div class="mt-5">
                              <dl class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2 text-sm text-gray-700">
                                <!-- Preparation Period -->
                                <div class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Preparation Period Start Date</dt>
                                  <dd>{{ project.preparationPeriod.startDate | date }}</dd>
                                </div>

                                <!-- Asset Lifetime -->
                                <div class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Estimated Asset Lifetime</dt>
                                  <dd>{{ (project.assetLifetime.durationInDays / 365) | number: '1.0-2' }} years</dd>
                                </div>

                                <!-- Budget Breakdowns -->
                                <div *ngFor="let breakdown of project.budget.budgetBreakdowns"
                                     class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">{{ breakdown.description }}</dt>
                                  <dd>{{ breakdown.amount.amount | currency:breakdown.amount.currency }}</dd>
                                </div>

                                <!-- Preliminary Cost Estimate -->
                                <div *ngIf="project.costMeasurements.length > 0"
                                     class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Preliminary Cost Estimate</dt>
                                  <dd>{{ project.costMeasurements[0].lifeCycleCosting.value.amount | currency:project.costMeasurements[0].lifeCycleCosting.value.currency }}</dd>
                                </div>

                                <!-- Energy Production Forecast -->
                                <div *ngIf="project.forecasts.length > 0" class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">{{ project.forecasts[0].title }}</dt>
                                  <dd>{{ project.forecasts[0].observations[0].value.amount }} {{ project.forecasts[0].observations[0].value.unit.name }}</dd>
                                </div>

                                <!-- Consulting Parties -->
                                <div *ngFor="let party of project.parties | filterRoles: 'consultant'"
                                     class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Consulting {{ party.roles[0] | titlecase }}</dt>
                                  <dd>{{ party.name }}</dd>
                                </div>

                                <!-- Feasibility Study Report -->
                                <div *ngIf="project.documents.length > 0" class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Feasibility Study Report</dt>
                                  <dd>{{ project.documents[0].title }} - Published
                                    on {{ project.documents[0].datePublished | date }}
                                  </dd>
                                </div>

                                <!-- Milestones -->
                                <div *ngFor="let milestone of project.milestones"
                                     class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">{{ milestone.title }}</dt>
                                  <dd>Due by {{ milestone.dueDate | date }} - Status: {{ milestone.status | titlecase }}
                                  </dd>
                                </div>
                              </dl>

                            </div>
                          </dd>
                        </div>

                        <!-- Implementation Phase Collapsible Section -->
                        <div class="pt-6">
                          <dt>
                            <button type="button" class="flex w-full items-start justify-between text-left" (click)="implementationOpen = !implementationOpen" [attr.aria-expanded]="implementationOpen.toString()">
                              <span class="text-lg font-semibold text-gray-900">Implementation Phase</span>
                              <span class="ml-6 h-7 flex items-center">
                                <!-- Icon when question is collapsed/expanded -->
                                <svg *ngIf="!implementationOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                     viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/>
                                </svg>
                                <svg *ngIf="implementationOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                     viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7"/>
                                </svg>
                              </span>
                            </button>
                          </dt>
                          <dd class="mt-2" [id]="implementationOpen ? 'implementation-content' : null" *ngIf="implementationOpen">
                            <!-- Insert Implementation Phase details here -->
                            <div class="mt-5">
                              <dl class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2 text-sm text-gray-700">

                                <!-- Implementation Period Start Date and Project Type -->
                                <div>
                                  <dt class="font-medium">Implementation Start Date</dt>
                                  <dd>{{ project.implementationPeriod.startDate | date }}</dd>
                                  <dt class="font-medium">Project Type</dt>
                                  <dd>{{ project.type }}</dd>
                                </div>

                                <!-- Budget and Financing Details -->
                                <div>
                                  <dt class="font-medium">Budget</dt>
                                  <dd>{{ project.budget.amount.amount | currency: project.budget.amount.currency }}</dd>
                                  <!-- Financing Details -->
                                  <ng-container *ngFor="let finance of project.budget.finance">
                                    <dt class="font-medium">{{ finance.type }}</dt>
                                    <dd>{{ finance.value.amount | currency: finance.value.currency }}</dd>
                                  </ng-container>
                                </div>

                                <!-- Documents and Contracting Processes -->
                                <div>
                                  <dt class="font-medium">Documents</dt>
                                  <dd>
                                    <ul>
                                      <li *ngFor="let doc of project.documents">{{ doc.title }} - Published on {{ doc.datePublished | date }}</li>
                                    </ul>
                                  </dd>
                                  <dt class="font-medium">Contracting Processes</dt>
                                  <dd>
                                    <ul>
                                      <li *ngFor="let contract of project.contractingProcesses">
                                        {{ contract.summary.title }} - {{ contract.summary.status }}
                                      </li>
                                    </ul>
                                  </dd>
                                </div>

                                <!-- Milestones -->
                                <div>
                                  <dt class="font-medium">Milestones</dt>
                                  <dd>
                                    <ul>
                                      <li *ngFor="let milestone of project.milestones">
                                        {{ milestone.title }}: Due by {{ milestone.dueDate | date }} - Status: {{ milestone.status | titlecase }}
                                      </li>
                                    </ul>
                                  </dd>
                                </div>
                              </dl>

                            </div>
                          </dd>
                        </div>


                      </div>
                    </div>
                  </div>
                </div>

                <!-- Completion Phase Information Section -->
                <div *ngIf="project.phase === 'Completion'">
                  <div class="bg-white">
                    <div class="mx-auto max-w-7xl px-6 py-6 lg:px-8">
                      <div class="mx-auto max-w-4xl divide-y divide-gray-300">

                        <!-- Identification Phase Collapsible Section -->
                        <div class="pt-6">
                          <dt>
                            <!-- Expand/collapse question button -->
                            <button type="button" class="flex w-full items-start justify-between text-left" (click)="identificationOpen = !identificationOpen" [attr.aria-expanded]="identificationOpen.toString()">
                              <span class="text-lg font-semibold text-gray-900">Identification Phase</span>
                              <span class="ml-6 h-7 flex items-center">
                              <!-- Icon when question is collapsed/expanded -->
                              <svg *ngIf="!identificationOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                   viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/>
                              </svg>
                              <svg *ngIf="identificationOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                   viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7"/>
                              </svg>
                            </span>
                            </button>
                          </dt>
                          <dd class="mt-2" [id]="identificationOpen ? 'identification-content' : null"
                              *ngIf="identificationOpen">
                            <!-- Insert Identification Phase details here -->
                            <div class="mb-5">

                              <dl class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2 text-sm text-gray-700">
                                <!-- Identification Period -->
                                <div class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Identification Period</dt>
                                  <dd>{{ project.identificationPeriod.startDate | date }}
                                    - {{ project.identificationPeriod.endDate | date }}
                                  </dd>
                                </div>

                                <!-- Environmental Impact Category -->
                                <div class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Environmental Impact Category</dt>
                                  <dd>{{ project.environment.impactCategories[0].id }}
                                    - {{ project.environment.impactCategories[0].description }}
                                  </dd>
                                </div>

                                <!-- Environmental Impact Assessment Conducted -->
                                <div class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Impact Assessment Conducted</dt>
                                  <dd>{{ project.environment.hasImpactAssessment ? 'Yes' : 'No' }}</dd>
                                </div>

                                <!-- In Protected Area -->
                                <div class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">In Protected Area</dt>
                                  <dd>{{ project.environment.inProtectedArea ? 'Yes' : 'No' }}</dd>
                                </div>

                                <!-- Affects Indigenous Lands -->
                                <div class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Affects Indigenous Lands</dt>
                                  <dd>{{ project.social.inIndigenousLand ? 'Yes' : 'No' }}</dd>
                                </div>

                                <!-- Lobbying Meetings -->
                                <div *ngIf="project.lobbyingMeetings?.length > 0"
                                     class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Lobbying Meetings</dt>
                                  <dd>
                                    <ul class="list-disc pl-5">
                                      <li *ngFor="let meeting of project.lobbyingMeetings">{{ meeting.date | date }}
                                        - {{ meeting.publicOffice?.organization?.name }}
                                      </li>
                                    </ul>
                                  </dd>
                                </div>

                                <!-- Climate Finance Details -->
                                <div *ngIf="project.climateFinance"
                                     class="col-span-2 px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Climate Finance Details</dt>
                                  <dd>
                                    <div class="grid grid-cols-2 gap-x-4 gap-y-2">
                                      <div><strong>Objective:</strong> {{ project.climateFinance.climateObjective }}</div>
                                      <div><strong>Instrument:</strong> {{ project.climateFinance.financialInstrument }}
                                      </div>
                                      <div>
                                        <strong>Transformation:</strong> {{ project.climateFinance.climateTransformation }}
                                      </div>
                                      <div><strong>Decision
                                        Making:</strong> {{ project.climateFinance.climateFinanceDecisionMaking }}
                                      </div>
                                      <div><strong>NDCs
                                        Alignment:</strong> {{ project.climateFinance.nationallyDeterminedContributions }}
                                      </div>
                                      <div><strong>Paris Agreement:</strong> {{ project.climateFinance.parisAgreement }}
                                      </div>
                                      <div><strong>Beneficiaries:</strong> {{ project.climateFinance.beneficiaries }}
                                      </div>
                                      <div><strong>Investment
                                        Amount:</strong> {{ project.climateFinance.amountOfInvestment | currency }}
                                      </div>
                                      <div><strong>Funding Source:</strong> {{ project.climateFinance.fundingSource }}
                                      </div>
                                    </div>
                                  </dd>
                                </div>
                              </dl>
                            </div>

                          </dd>
                        </div>

                        <!-- Preparation Phase Collapsible Section -->
                        <div class="pt-6">
                          <dt>
                            <button type="button" class="flex w-full items-start justify-between text-left" (click)="preparationOpen = !preparationOpen" [attr.aria-expanded]="preparationOpen.toString()">
                              <span class="text-lg font-semibold text-gray-900">Preparation Phase</span>
                              <span class="ml-6 h-7 flex items-center">
                              <!-- Icon when question is collapsed/expanded -->
                              <svg *ngIf="!preparationOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                   viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/>
                              </svg>
                              <svg *ngIf="preparationOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                   viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7"/>
                              </svg>
                            </span>
                            </button>
                          </dt>
                          <dd class="mt-2" [id]="preparationOpen ? 'preparation-content' : null" *ngIf="preparationOpen">
                            <!-- Insert Preparation Phase details here -->
                            <div class="mt-5">
                              <dl class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2 text-sm text-gray-700">
                                <!-- Preparation Period -->
                                <div class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Preparation Period Start Date</dt>
                                  <dd>{{ project.preparationPeriod.startDate | date }}</dd>
                                </div>

                                <!-- Asset Lifetime -->
                                <div class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Estimated Asset Lifetime</dt>
                                  <dd>{{ (project.assetLifetime.durationInDays / 365) | number: '1.0-2' }} years</dd>
                                </div>

                                <!-- Budget Breakdowns -->
                                <div *ngFor="let breakdown of project.budget.budgetBreakdowns"
                                     class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">{{ breakdown.description }}</dt>
                                  <dd>{{ breakdown.amount.amount | currency:breakdown.amount.currency }}</dd>
                                </div>

                                <!-- Preliminary Cost Estimate -->
                                <div *ngIf="project.costMeasurements.length > 0"
                                     class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Preliminary Cost Estimate</dt>
                                  <dd>{{ project.costMeasurements[0].lifeCycleCosting.value.amount | currency:project.costMeasurements[0].lifeCycleCosting.value.currency }}</dd>
                                </div>

                                <!-- Energy Production Forecast -->
                                <div *ngIf="project.forecasts.length > 0" class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">{{ project.forecasts[0].title }}</dt>
                                  <dd>{{ project.forecasts[0].observations[0].value.amount }} {{ project.forecasts[0].observations[0].value.unit.name }}</dd>
                                </div>

                                <!-- Consulting Parties -->
                                <div *ngFor="let party of project.parties | filterRoles: 'consultant'"
                                     class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Consulting {{ party.roles[0] | titlecase }}</dt>
                                  <dd>{{ party.name }}</dd>
                                </div>

                                <!-- Feasibility Study Report -->
                                <div *ngIf="project.documents.length > 0" class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Feasibility Study Report</dt>
                                  <dd>{{ project.documents[0].title }} - Published
                                    on {{ project.documents[0].datePublished | date }}
                                  </dd>
                                </div>

                                <!-- Milestones -->
                                <div *ngFor="let milestone of project.milestones"
                                     class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">{{ milestone.title }}</dt>
                                  <dd>Due by {{ milestone.dueDate | date }} - Status: {{ milestone.status | titlecase }}
                                  </dd>
                                </div>
                              </dl>

                            </div>
                          </dd>
                        </div>

                        <!-- Implementation Phase Collapsible Section -->
                        <div class="pt-6">
                          <dt>
                            <button type="button" class="flex w-full items-start justify-between text-left" (click)="implementationOpen = !implementationOpen" [attr.aria-expanded]="implementationOpen.toString()">
                              <span class="text-lg font-semibold text-gray-900">Implementation Phase</span>
                              <span class="ml-6 h-7 flex items-center">
                                <!-- Icon when question is collapsed/expanded -->
                                <svg *ngIf="!implementationOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                     viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/>
                                </svg>
                                <svg *ngIf="implementationOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                     viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7"/>
                                </svg>
                              </span>
                            </button>
                          </dt>
                          <dd class="mt-2" [id]="implementationOpen ? 'implementation-content' : null" *ngIf="implementationOpen">
                            <!-- Insert Implementation Phase details here -->
                            <div class="mt-5">
                              <dl class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2 text-sm text-gray-700">

                                <!-- Implementation Period Start Date and Project Type -->
                                <div>
                                  <dt class="font-medium">Implementation Start Date</dt>
                                  <dd>{{ project.implementationPeriod.startDate | date }}</dd>
                                  <dt class="font-medium">Project Type</dt>
                                  <dd>{{ project.type }}</dd>
                                </div>

                                <!-- Budget and Financing Details -->
                                <div>
                                  <dt class="font-medium">Budget</dt>
                                  <dd>{{ project.budget.amount.amount | currency: project.budget.amount.currency }}</dd>
                                  <!-- Financing Details -->
                                  <ng-container *ngFor="let finance of project.budget.finance">
                                    <dt class="font-medium">{{ finance.type }}</dt>
                                    <dd>{{ finance.value.amount | currency: finance.value.currency }}</dd>
                                  </ng-container>
                                </div>

                                <!-- Documents and Contracting Processes -->
                                <div>
                                  <dt class="font-medium">Documents</dt>
                                  <dd>
                                    <ul>
                                      <li *ngFor="let doc of project.documents">{{ doc.title }} - Published on {{ doc.datePublished | date }}</li>
                                    </ul>
                                  </dd>
                                  <dt class="font-medium">Contracting Processes</dt>
                                  <dd>
                                    <ul>
                                      <li *ngFor="let contract of project.contractingProcesses">
                                        {{ contract.summary.title }} - {{ contract.summary.status }}
                                      </li>
                                    </ul>
                                  </dd>
                                </div>

                                <!-- Milestones -->
                                <div>
                                  <dt class="font-medium">Milestones</dt>
                                  <dd>
                                    <ul>
                                      <li *ngFor="let milestone of project.milestones">
                                        {{ milestone.title }}: Due by {{ milestone.dueDate | date }} - Status: {{ milestone.status | titlecase }}
                                      </li>
                                    </ul>
                                  </dd>
                                </div>
                              </dl>

                            </div>
                          </dd>
                        </div>
                        <!-- Completion Phase Collapsible Section -->
                        <div class="pt-6">
                          <dt>
                            <button type="button" class="flex w-full items-start justify-between text-left" (click)="completionOpen = !completionOpen" [attr.aria-expanded]="completionOpen.toString()">
                              <span class="text-lg font-semibold text-gray-900">Completion Phase</span>
                              <span class="ml-6 h-7 flex items-center">
                                <!-- Icon when question is collapsed/expanded -->
                                <svg *ngIf="!completionOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                     viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/>
                                </svg>
                                <svg *ngIf="completionOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                     viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7"/>
                                </svg>
                              </span>
                            </button>
                          </dt>
                          <dd class="mt-2" [id]="completionOpen ? 'completion-content' : null" *ngIf="completionOpen">
                            <!-- Insert Completion Phase details here -->
                            <div class="mt-5">
                              <dl class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2 text-sm text-gray-700">

                                <!-- Project Title and Status -->
                                <div>
                                  <dt class="font-medium">Title</dt>
                                  <dd>{{ project.title }}</dd>
                                  <dt class="font-medium">Status</dt>
                                  <dd>{{ project.status }}</dd>
                                </div>

                                <!-- Project Period End Date and Type -->
                                <div>
                                  <dt class="font-medium">Project Period End Date</dt>
                                  <dd>{{ project.period.endDate | date }}</dd>
                                  <dt class="font-medium">Project Type</dt>
                                  <dd>{{ project.type }}</dd>
                                </div>

                                <!-- Completion Period Dates -->
                                <div>
                                  <dt class="font-medium">Completion Period Start Date</dt>
                                  <dd>{{ project.completionPeriod.startDate | date }}</dd>
                                  <dt class="font-medium">Completion Period End Date</dt>
                                  <dd>{{ project.completionPeriod.endDate | date }}</dd>
                                </div>

                                <!-- Final Cost Measurements and Milestones -->
                                <div>
                                  <dt class="font-medium">Final Project Cost</dt>
                                  <dd>{{ project.costMeasurements[0].lifeCycleCosting.value.amount | currency:project.costMeasurements[0].lifeCycleCosting.value.currency }}</dd>
                                  <dt class="font-medium">Milestones</dt>
                                  <dd>
                                    <ul>
                                      <li *ngFor="let milestone of project.milestones">
                                        {{ milestone.title }}: Met on {{ milestone.dateMet | date }} - Status: {{ milestone.status | titlecase }}
                                      </li>
                                    </ul>
                                  </dd>
                                </div>

                                <!-- Final Project Details -->
                                <div>
                                  <dt class="font-medium">Final Scope</dt>
                                  <dd>{{ project.completion.finalScope }} - {{ project.completion.finalScopeDetails }}</dd>

                                </div>







                              </dl>

                            </div>
                          </dd>
                        </div>

                      </div>
                    </div>
                  </div>
                </div>

                <!-- Maintenance Phase Information Section -->
                <div *ngIf="project.phase === 'Maintenance'">
                  <div class="bg-white">
                    <div class="mx-auto max-w-7xl px-6 py-6 lg:px-8">
                      <div class="mx-auto max-w-4xl divide-y divide-gray-300">

                        <!-- Identification Phase Collapsible Section -->
                        <div class="pt-6">
                          <dt>
                            <!-- Expand/collapse question button -->
                            <button type="button" class="flex w-full items-start justify-between text-left" (click)="identificationOpen = !identificationOpen" [attr.aria-expanded]="identificationOpen.toString()">
                              <span class="text-lg font-semibold text-gray-900">Identification Phase</span>
                              <span class="ml-6 h-7 flex items-center">
                              <!-- Icon when question is collapsed/expanded -->
                              <svg *ngIf="!identificationOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                   viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/>
                              </svg>
                              <svg *ngIf="identificationOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                   viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7"/>
                              </svg>
                            </span>
                            </button>
                          </dt>
                          <dd class="mt-2" [id]="identificationOpen ? 'identification-content' : null"
                              *ngIf="identificationOpen">
                            <!-- Insert Identification Phase details here -->
                            <div class="mb-5">

                              <dl class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2 text-sm text-gray-700">
                                <!-- Identification Period -->
                                <div class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Identification Period</dt>
                                  <dd>{{ project.identificationPeriod.startDate | date }}
                                    - {{ project.identificationPeriod.endDate | date }}
                                  </dd>
                                </div>

                                <!-- Environmental Impact Category -->
                                <div class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Environmental Impact Category</dt>
                                  <dd>{{ project.environment.impactCategories[0].id }}
                                    - {{ project.environment.impactCategories[0].description }}
                                  </dd>
                                </div>

                                <!-- Environmental Impact Assessment Conducted -->
                                <div class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Impact Assessment Conducted</dt>
                                  <dd>{{ project.environment.hasImpactAssessment ? 'Yes' : 'No' }}</dd>
                                </div>

                                <!-- In Protected Area -->
                                <div class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">In Protected Area</dt>
                                  <dd>{{ project.environment.inProtectedArea ? 'Yes' : 'No' }}</dd>
                                </div>

                                <!-- Affects Indigenous Lands -->
                                <div class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Affects Indigenous Lands</dt>
                                  <dd>{{ project.social.inIndigenousLand ? 'Yes' : 'No' }}</dd>
                                </div>

                                <!-- Lobbying Meetings -->
                                <div *ngIf="project.lobbyingMeetings?.length > 0"
                                     class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Lobbying Meetings</dt>
                                  <dd>
                                    <ul class="list-disc pl-5">
                                      <li *ngFor="let meeting of project.lobbyingMeetings">{{ meeting.date | date }}
                                        - {{ meeting.publicOffice?.organization?.name }}
                                      </li>
                                    </ul>
                                  </dd>
                                </div>

                                <!-- Climate Finance Details -->
                                <div *ngIf="project.climateFinance"
                                     class="col-span-2 px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Climate Finance Details</dt>
                                  <dd>
                                    <div class="grid grid-cols-2 gap-x-4 gap-y-2">
                                      <div><strong>Objective:</strong> {{ project.climateFinance.climateObjective }}</div>
                                      <div><strong>Instrument:</strong> {{ project.climateFinance.financialInstrument }}
                                      </div>
                                      <div>
                                        <strong>Transformation:</strong> {{ project.climateFinance.climateTransformation }}
                                      </div>
                                      <div><strong>Decision
                                        Making:</strong> {{ project.climateFinance.climateFinanceDecisionMaking }}
                                      </div>
                                      <div><strong>NDCs
                                        Alignment:</strong> {{ project.climateFinance.nationallyDeterminedContributions }}
                                      </div>
                                      <div><strong>Paris Agreement:</strong> {{ project.climateFinance.parisAgreement }}
                                      </div>
                                      <div><strong>Beneficiaries:</strong> {{ project.climateFinance.beneficiaries }}
                                      </div>
                                      <div><strong>Investment
                                        Amount:</strong> {{ project.climateFinance.amountOfInvestment | currency }}
                                      </div>
                                      <div><strong>Funding Source:</strong> {{ project.climateFinance.fundingSource }}
                                      </div>
                                    </div>
                                  </dd>
                                </div>
                              </dl>
                            </div>

                          </dd>
                        </div>

                        <!-- Preparation Phase Collapsible Section -->
                        <div class="pt-6">
                          <dt>
                            <button type="button" class="flex w-full items-start justify-between text-left" (click)="preparationOpen = !preparationOpen" [attr.aria-expanded]="preparationOpen.toString()">
                              <span class="text-lg font-semibold text-gray-900">Preparation Phase</span>
                              <span class="ml-6 h-7 flex items-center">
                              <!-- Icon when question is collapsed/expanded -->
                              <svg *ngIf="!preparationOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                   viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/>
                              </svg>
                              <svg *ngIf="preparationOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                   viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7"/>
                              </svg>
                            </span>
                            </button>
                          </dt>
                          <dd class="mt-2" [id]="preparationOpen ? 'preparation-content' : null" *ngIf="preparationOpen">
                            <!-- Insert Preparation Phase details here -->
                            <div class="mt-5">
                              <dl class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2 text-sm text-gray-700">
                                <!-- Preparation Period -->
                                <div class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Preparation Period Start Date</dt>
                                  <dd>{{ project.preparationPeriod.startDate | date }}</dd>
                                </div>

                                <!-- Asset Lifetime -->
                                <div class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Estimated Asset Lifetime</dt>
                                  <dd>{{ (project.assetLifetime.durationInDays / 365) | number: '1.0-2' }} years</dd>
                                </div>

                                <!-- Budget Breakdowns -->
                                <div *ngFor="let breakdown of project.budget.budgetBreakdowns"
                                     class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">{{ breakdown.description }}</dt>
                                  <dd>{{ breakdown.amount.amount | currency:breakdown.amount.currency }}</dd>
                                </div>

                                <!-- Preliminary Cost Estimate -->
                                <div *ngIf="project.costMeasurements.length > 0"
                                     class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Preliminary Cost Estimate</dt>
                                  <dd>{{ project.costMeasurements[0].lifeCycleCosting.value.amount | currency:project.costMeasurements[0].lifeCycleCosting.value.currency }}</dd>
                                </div>

                                <!-- Energy Production Forecast -->
                                <div *ngIf="project.forecasts.length > 0" class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">{{ project.forecasts[0].title }}</dt>
                                  <dd>{{ project.forecasts[0].observations[0].value.amount }} {{ project.forecasts[0].observations[0].value.unit.name }}</dd>
                                </div>

                                <!-- Consulting Parties -->
                                <div *ngFor="let party of project.parties | filterRoles: 'consultant'"
                                     class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Consulting {{ party.roles[0] | titlecase }}</dt>
                                  <dd>{{ party.name }}</dd>
                                </div>

                                <!-- Feasibility Study Report -->
                                <div *ngIf="project.documents.length > 0" class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Feasibility Study Report</dt>
                                  <dd>{{ project.documents[0].title }} - Published
                                    on {{ project.documents[0].datePublished | date }}
                                  </dd>
                                </div>

                                <!-- Milestones -->
                                <div *ngFor="let milestone of project.milestones"
                                     class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">{{ milestone.title }}</dt>
                                  <dd>Due by {{ milestone.dueDate | date }} - Status: {{ milestone.status | titlecase }}
                                  </dd>
                                </div>
                              </dl>

                            </div>
                          </dd>
                        </div>

                        <!-- Implementation Phase Collapsible Section -->
                        <div class="pt-6">
                          <dt>
                            <button type="button" class="flex w-full items-start justify-between text-left" (click)="implementationOpen = !implementationOpen" [attr.aria-expanded]="implementationOpen.toString()">
                              <span class="text-lg font-semibold text-gray-900">Implementation Phase</span>
                              <span class="ml-6 h-7 flex items-center">
                                <!-- Icon when question is collapsed/expanded -->
                                <svg *ngIf="!implementationOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                     viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/>
                                </svg>
                                <svg *ngIf="implementationOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                     viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7"/>
                                </svg>
                              </span>
                            </button>
                          </dt>
                          <dd class="mt-2" [id]="implementationOpen ? 'implementation-content' : null" *ngIf="implementationOpen">
                            <!-- Insert Implementation Phase details here -->
                            <div class="mt-5">
                              <dl class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2 text-sm text-gray-700">

                                <!-- Implementation Period Start Date and Project Type -->
                                <div>
                                  <dt class="font-medium">Implementation Start Date</dt>
                                  <dd>{{ project.implementationPeriod.startDate | date }}</dd>
                                  <dt class="font-medium">Project Type</dt>
                                  <dd>{{ project.type }}</dd>
                                </div>

                                <!-- Budget and Financing Details -->
                                <div>
                                  <dt class="font-medium">Budget</dt>
                                  <dd>{{ project.budget.amount.amount | currency: project.budget.amount.currency }}</dd>
                                  <!-- Financing Details -->
                                  <ng-container *ngFor="let finance of project.budget.finance">
                                    <dt class="font-medium">{{ finance.type }}</dt>
                                    <dd>{{ finance.value.amount | currency: finance.value.currency }}</dd>
                                  </ng-container>
                                </div>

                                <!-- Documents and Contracting Processes -->
                                <div>
                                  <dt class="font-medium">Documents</dt>
                                  <dd>
                                    <ul>
                                      <li *ngFor="let doc of project.documents">{{ doc.title }} - Published on {{ doc.datePublished | date }}</li>
                                    </ul>
                                  </dd>
                                  <dt class="font-medium">Contracting Processes</dt>
                                  <dd>
                                    <ul>
                                      <li *ngFor="let contract of project.contractingProcesses">
                                        {{ contract.summary.title }} - {{ contract.summary.status }}
                                      </li>
                                    </ul>
                                  </dd>
                                </div>

                                <!-- Milestones -->
                                <div>
                                  <dt class="font-medium">Milestones</dt>
                                  <dd>
                                    <ul>
                                      <li *ngFor="let milestone of project.milestones">
                                        {{ milestone.title }}: Due by {{ milestone.dueDate | date }} - Status: {{ milestone.status | titlecase }}
                                      </li>
                                    </ul>
                                  </dd>
                                </div>
                              </dl>

                            </div>
                          </dd>
                        </div>
                        <!-- Completion Phase Collapsible Section -->
                        <div class="pt-6">
                          <dt>
                            <button type="button" class="flex w-full items-start justify-between text-left" (click)="completionOpen = !completionOpen" [attr.aria-expanded]="completionOpen.toString()">
                              <span class="text-lg font-semibold text-gray-900">Completion Phase</span>
                              <span class="ml-6 h-7 flex items-center">
                                <!-- Icon when question is collapsed/expanded -->
                                <svg *ngIf="!completionOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                     viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/>
                                </svg>
                                <svg *ngIf="completionOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                     viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7"/>
                                </svg>
                              </span>
                            </button>
                          </dt>
                          <dd class="mt-2" [id]="completionOpen ? 'completion-content' : null" *ngIf="completionOpen">
                            <!-- Insert Completion Phase details here -->
                            <div class="mt-5">
                              <dl class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2 text-sm text-gray-700">

                                <!-- Project Title and Status -->
                                <div>
                                  <dt class="font-medium">Title</dt>
                                  <dd>{{ project.title }}</dd>
                                  <dt class="font-medium">Status</dt>
                                  <dd>{{ project.status }}</dd>
                                </div>

                                <!-- Project Period End Date and Type -->
                                <div>
                                  <dt class="font-medium">Project Period End Date</dt>
                                  <dd>{{ project.period.endDate | date }}</dd>
                                  <dt class="font-medium">Project Type</dt>
                                  <dd>{{ project.type }}</dd>
                                </div>

                                <!-- Completion Period Dates -->
                                <div>
                                  <dt class="font-medium">Completion Period Start Date</dt>
                                  <dd>{{ project.completionPeriod.startDate | date }}</dd>
                                  <dt class="font-medium">Completion Period End Date</dt>
                                  <dd>{{ project.completionPeriod.endDate | date }}</dd>
                                </div>

                                <!-- Final Cost Measurements and Milestones -->
                                <div>
                                  <dt class="font-medium">Final Project Cost</dt>
                                  <dd>{{ project.costMeasurements[0].lifeCycleCosting.value.amount | currency:project.costMeasurements[0].lifeCycleCosting.value.currency }}</dd>
                                  <dt class="font-medium">Milestones</dt>
                                  <dd>
                                    <ul>
                                      <li *ngFor="let milestone of project.milestones">
                                        {{ milestone.title }}: Met on {{ milestone.dateMet | date }} - Status: {{ milestone.status | titlecase }}
                                      </li>
                                    </ul>
                                  </dd>
                                </div>

                                <!-- Final Project Details -->
                                <div>
                                  <dt class="font-medium">Final Scope</dt>
                                  <dd>{{ project.completion.finalScope }} - {{ project.completion.finalScopeDetails }}</dd>

                                </div>







                              </dl>

                            </div>
                          </dd>
                        </div>

                        <!-- Maintenance Phase Collapsible Section -->
                        <div class="pt-6">
                          <dt>
                            <button type="button" class="flex w-full items-start justify-between text-left" (click)="maintenanceOpen = !maintenanceOpen" [attr.aria-expanded]="maintenanceOpen.toString()">
                              <span class="text-lg font-semibold text-gray-900">Maintenance Phase</span>
                              <span class="ml-6 h-7 flex items-center">
                                <!-- Icon when question is collapsed/expanded -->
                                <svg *ngIf="!maintenanceOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                     viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/>
                                </svg>
                                <svg *ngIf="maintenanceOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                     viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7"/>
                                </svg>
                              </span>
                            </button>
                          </dt>
                          <dd class="mt-2" [id]="maintenanceOpen ? 'maintenance-content' : null" *ngIf="maintenanceOpen">
                            <!-- Insert Maintenance Phase details here -->
                            <!-- Maintenance Phase Section -->
                            <div *ngIf="project.phase === 'Maintenance'" class="mt-4 p-4 bg-white rounded-lg shadow border-2 border-gray-200">

                              <dl class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2">
                                <!-- Maintenance Period Start Date -->
                                <div>
                                  <dt class="text-sm font-medium text-gray-500">Maintenance Start Date</dt>
                                  <dd class="text-sm text-gray-900">{{ project.maintenancePeriod.startDate | date }}</dd>
                                </div>

                                <!-- Maintenance Plan Details -->
                                <div *ngIf="project.maintenancePlan?.length > 0" class="col-span-2">
                                  <dt class="text-sm font-medium text-gray-500">Maintenance Activities</dt>
                                  <dd class="text-sm text-gray-900">
                                    <ul>
                                      <li *ngFor="let plan of project.maintenancePlan">
                                        <strong>{{ plan.type }}:</strong> {{ plan.description }}
                                      </li>
                                    </ul>
                                  </dd>
                                </div>

                                <!-- Maintenance Parties Involved -->
                                <div *ngIf="project.parties | filterRoles: 'supplier'">
                                  <dt class="text-sm font-medium text-gray-500">Maintenance Contractors</dt>
                                  <dd class="text-sm text-gray-900">
                                    <ul>
                                      <li *ngFor="let party of project.parties | filterRoles: 'supplier'">
                                        {{ party.name }}
                                      </li>
                                    </ul>
                                  </dd>
                                </div>
                              </dl>
                            </div>

                          </dd>
                        </div>

                      </div>
                    </div>
                  </div>
                </div>

                <!-- Decommissioning Phase Information Section -->
                <div *ngIf="project.phase === 'Decommissioning'">
                  <div class="bg-white">
                    <div class="mx-auto max-w-7xl  py-4 ">
                      <div class="mx-auto max-w-4xl divide-y divide-gray-300">

                        <!-- Identification Phase Collapsible Section -->
                        <div  class="bg-gray-900 p-6 rounded-lg">
                          <div class="max-w-4xl mx-auto divide-y divide-gray-700">
                            <!-- Identification Phase Collapsible Section -->
                            <div class="pt-6">
                              <dt>
                                <!-- Expand/collapse question button -->
                                <button type="button" class="flex w-full items-start justify-between text-left text-gray-300" (click)="identificationOpen = !identificationOpen" [attr.aria-expanded]="identificationOpen.toString()">
                                  <span class="text-lg font-semibold">Identification Phase</span>
                                  <span class="ml-6 h-7 flex items-center">
            <!-- Icon when question is collapsed/expanded -->
            <svg *ngIf="!identificationOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/>
            </svg>
            <svg *ngIf="identificationOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7"/>
            </svg>
          </span>
                                </button>
                              </dt>
                              <dd class="mt-2" [id]="identificationOpen ? 'identification-content' : null" *ngIf="identificationOpen">
                                <div class="bg-gray-800 p-4 rounded-lg shadow-inner">
                                  <dl class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2 text-sm text-gray-400">
                                    <!-- Identification Period -->
                                    <div class="bg-gray-700 p-3 rounded-lg">
                                      <dt class="font-medium text-green-500">Identification Period</dt>
                                      <dd>{{ project.identificationPeriod.startDate | date }} - {{ project.identificationPeriod.endDate | date }}</dd>
                                    </div>

                                    <!-- Environmental Impact Category -->
                                    <div class="bg-gray-700 p-3 rounded-lg">
                                      <dt class="font-medium text-green-500">Environmental Impact Category</dt>
                                      <dd>{{ project.environment.impactCategories[0].id }} - {{ project.environment.impactCategories[0].description }}</dd>
                                    </div>

                                    <!-- Environmental Impact Assessment Conducted -->
                                    <div class="bg-gray-700 p-3 rounded-lg">
                                      <dt class="font-medium text-green-500">Impact Assessment Conducted</dt>
                                      <dd>{{ project.environment.hasImpactAssessment ? 'Yes' : 'No' }}</dd>
                                    </div>

                                    <!-- In Protected Area -->
                                    <div class="bg-gray-700 p-3 rounded-lg">
                                      <dt class="font-medium text-green-500">In Protected Area</dt>
                                      <dd>{{ project.environment.inProtectedArea ? 'Yes' : 'No' }}</dd>
                                    </div>

                                    <!-- Affects Indigenous Lands -->
                                    <div class="bg-gray-700 p-3 rounded-lg">
                                      <dt class="font-medium text-green-500">Affects Indigenous Lands</dt>
                                      <dd>{{ project.social.inIndigenousLand ? 'Yes' : 'No' }}</dd>
                                    </div>

                                    <!-- Lobbying Meetings -->
                                    <div *ngIf="project.lobbyingMeetings?.length > 0" class="bg-gray-700 p-3 rounded-lg">
                                      <dt class="font-medium text-green-500">Lobbying Meetings</dt>
                                      <dd>
                                        <ul class="list-disc pl-5 text-gray-400">
                                          <li *ngFor="let meeting of project.lobbyingMeetings">{{ meeting.date | date }} - {{ meeting.publicOffice?.organization?.name }}</li>
                                        </ul>
                                      </dd>
                                    </div>

                                    <!-- Climate Finance Details -->
                                    <div *ngIf="project.climateFinance" class="col-span-2 bg-gray-700 p-3 rounded-lg">
                                      <dt class="font-medium text-green-500">Climate Finance Details</dt>
                                      <dd>
                                        <div class="grid grid-cols-2 gap-x-4 gap-y-2 text-gray-400">
                                          <div><strong>Objective:</strong> {{ project.climateFinance.climateObjective }}</div>
                                          <div><strong>Instrument:</strong> {{ project.climateFinance.financialInstrument }}</div>
                                          <div><strong>Transformation:</strong> {{ project.climateFinance.climateTransformation }}</div>
                                          <div><strong>Decision Making:</strong> {{ project.climateFinance.climateFinanceDecisionMaking }}</div>
                                          <div><strong>NDCs Alignment:</strong> {{ project.climateFinance.nationallyDeterminedContributions }}</div>
                                          <div><strong>Paris Agreement:</strong> {{ project.climateFinance.parisAgreement }}</div>
                                          <div><strong>Beneficiaries:</strong> {{ project.climateFinance.beneficiaries }}</div>
                                          <div><strong>Investment Amount:</strong> {{ project.climateFinance.amountOfInvestment | currency }}</div>
                                          <div><strong>Funding Source:</strong> {{ project.climateFinance.fundingSource }}</div>
                                        </div>
                                      </dd>
                                    </div>
                                  </dl>
                                </div>
                              </dd>
                            </div>
                          </div>
                        </div>


                        <!-- Preparation Phase Collapsible Section -->
                        <div class="pt-6">
                          <dt>
                            <button type="button" class="flex w-full items-start justify-between text-left" (click)="preparationOpen = !preparationOpen" [attr.aria-expanded]="preparationOpen.toString()">
                              <span class="text-lg font-semibold text-gray-900">Preparation Phase</span>
                              <span class="ml-6 h-7 flex items-center">
                              <!-- Icon when question is collapsed/expanded -->
                              <svg *ngIf="!preparationOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                   viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/>
                              </svg>
                              <svg *ngIf="preparationOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                   viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7"/>
                              </svg>
                            </span>
                            </button>
                          </dt>
                          <dd class="mt-2" [id]="preparationOpen ? 'preparation-content' : null" *ngIf="preparationOpen">
                            <!-- Insert Preparation Phase details here -->
                            <div class="mt-4 p-4 bg-white rounded-lg shadow border-2 border-gray-200">
                              <dl class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2 text-sm text-gray-700">
                                <!-- Preparation Period -->
                                <div class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Preparation Period Start Date</dt>
                                  <dd>{{ project.preparationPeriod.startDate | date }}</dd>
                                </div>

                                <!-- Asset Lifetime -->
                                <div class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Estimated Asset Lifetime</dt>
                                  <dd>{{ (project.assetLifetime.durationInDays / 365) | number: '1.0-2' }} years</dd>
                                </div>

                                <!-- Budget Breakdowns -->
                                <div *ngFor="let breakdown of project.budget.budgetBreakdowns"
                                     class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">{{ breakdown.description }}</dt>
                                  <dd>{{ breakdown.amount.amount | currency:breakdown.amount.currency }}</dd>
                                </div>

                                <!-- Preliminary Cost Estimate -->
                                <div *ngIf="project.costMeasurements.length > 0"
                                     class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Preliminary Cost Estimate</dt>
                                  <dd>{{ project.costMeasurements[0].lifeCycleCosting.value.amount | currency:project.costMeasurements[0].lifeCycleCosting.value.currency }}</dd>
                                </div>

                                <!-- Energy Production Forecast -->
                                <div *ngIf="project.forecasts.length > 0" class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">{{ project.forecasts[0].title }}</dt>
                                  <dd>{{ project.forecasts[0].observations[0].value.amount }} {{ project.forecasts[0].observations[0].value.unit.name }}</dd>
                                </div>

                                <!-- Consulting Parties -->
                                <div *ngFor="let party of project.parties | filterRoles: 'consultant'"
                                     class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Consulting {{ party.roles[0] | titlecase }}</dt>
                                  <dd>{{ party.name }}</dd>
                                </div>

                                <!-- Feasibility Study Report -->
                                <div *ngIf="project.documents.length > 0" class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">Feasibility Study Report</dt>
                                  <dd>{{ project.documents[0].title }} - Published
                                    on {{ project.documents[0].datePublished | date }}
                                  </dd>
                                </div>

                                <!-- Milestones -->
                                <div *ngFor="let milestone of project.milestones"
                                     class="px-4 py-3 bg-white rounded-lg shadow-xs">
                                  <dt class="font-medium">{{ milestone.title }}</dt>
                                  <dd>Due by {{ milestone.dueDate | date }} - Status: {{ milestone.status | titlecase }}
                                  </dd>
                                </div>
                              </dl>

                            </div>
                          </dd>
                        </div>

                        <!-- Implementation Phase Collapsible Section -->
                        <div class="pt-6">
                          <dt>
                            <button type="button" class="flex w-full items-start justify-between text-left" (click)="implementationOpen = !implementationOpen" [attr.aria-expanded]="implementationOpen.toString()">
                              <span class="text-lg font-semibold text-gray-900">Implementation Phase</span>
                              <span class="ml-6 h-7 flex items-center">
                                <!-- Icon when question is collapsed/expanded -->
                                <svg *ngIf="!implementationOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                     viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/>
                                </svg>
                                <svg *ngIf="implementationOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                     viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7"/>
                                </svg>
                              </span>
                            </button>
                          </dt>
                          <dd class="mt-2" [id]="implementationOpen ? 'implementation-content' : null" *ngIf="implementationOpen">
                            <!-- Insert Implementation Phase details here -->
                            <div class="mt-4 p-4 bg-white rounded-lg shadow border-2 border-gray-200">
                              <dl class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2 text-sm text-gray-700">

                                <!-- Implementation Period Start Date and Project Type -->
                                <div>
                                  <dt class="font-medium">Implementation Start Date</dt>
                                  <dd>{{ project.implementationPeriod.startDate | date }}</dd>
                                  <dt class="font-medium">Project Type</dt>
                                  <dd>{{ project.type }}</dd>
                                </div>

                                <!-- Budget and Financing Details -->
                                <div>
                                  <dt class="font-medium">Budget</dt>
                                  <dd>{{ project.budget.amount.amount | currency: project.budget.amount.currency }}</dd>
                                  <!-- Financing Details -->
                                  <ng-container *ngFor="let finance of project.budget.finance">
                                    <dt class="font-medium">{{ finance.type }}</dt>
                                    <dd>{{ finance.value.amount | currency: finance.value.currency }}</dd>
                                  </ng-container>
                                </div>

                                <!-- Documents and Contracting Processes -->
                                <div>
                                  <dt class="font-medium">Documents</dt>
                                  <dd>
                                    <ul>
                                      <li *ngFor="let doc of project.documents">{{ doc.title }} - Published on {{ doc.datePublished | date }}</li>
                                    </ul>
                                  </dd>
                                  <dt class="font-medium">Contracting Processes</dt>
                                  <dd>
                                    <ul>
                                      <li *ngFor="let contract of project.contractingProcesses">
                                        {{ contract.summary.title }} - {{ contract.summary.status }}
                                      </li>
                                    </ul>
                                  </dd>
                                </div>

                                <!-- Milestones -->
                                <div>
                                  <dt class="font-medium">Milestones</dt>
                                  <dd>
                                    <ul>
                                      <li *ngFor="let milestone of project.milestones">
                                        {{ milestone.title }}: Due by {{ milestone.dueDate | date }} - Status: {{ milestone.status | titlecase }}
                                      </li>
                                    </ul>
                                  </dd>
                                </div>
                              </dl>

                            </div>
                          </dd>
                        </div>
                        <!-- Completion Phase Collapsible Section -->
                        <div class="pt-6">
                          <dt>
                            <button type="button" class="flex w-full items-start justify-between text-left" (click)="completionOpen = !completionOpen" [attr.aria-expanded]="completionOpen.toString()">
                              <span class="text-lg font-semibold text-gray-900">Completion Phase</span>
                              <span class="ml-6 h-7 flex items-center">
                                <!-- Icon when question is collapsed/expanded -->
                                <svg *ngIf="!completionOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                     viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/>
                                </svg>
                                <svg *ngIf="completionOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                     viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7"/>
                                </svg>
                              </span>
                            </button>
                          </dt>
                          <dd class="mt-2" [id]="completionOpen ? 'completion-content' : null" *ngIf="completionOpen">
                            <!-- Insert Completion Phase details here -->
                            <div class="mt-4 p-4 bg-white rounded-lg shadow border-2 border-gray-200">
                              <dl class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2 text-sm text-gray-700">

                                <!-- Project Title and Status -->
                                <div>
                                  <dt class="font-medium">Title</dt>
                                  <dd>{{ project.title }}</dd>
                                  <dt class="font-medium">Status</dt>
                                  <dd>{{ project.status }}</dd>
                                </div>

                                <!-- Project Period End Date and Type -->
                                <div>
                                  <dt class="font-medium">Project Period End Date</dt>
                                  <dd>{{ project.period.endDate | date }}</dd>
                                  <dt class="font-medium">Project Type</dt>
                                  <dd>{{ project.type }}</dd>
                                </div>

                                <!-- Completion Period Dates -->
                                <div>
                                  <dt class="font-medium">Completion Period Start Date</dt>
                                  <dd>{{ project.completionPeriod.startDate | date }}</dd>
                                  <dt class="font-medium">Completion Period End Date</dt>
                                  <dd>{{ project.completionPeriod.endDate | date }}</dd>
                                </div>

                                <!-- Final Cost Measurements and Milestones -->
                                <div>
                                  <dt class="font-medium">Final Project Cost</dt>
                                  <dd>{{ project.costMeasurements[0].lifeCycleCosting.value.amount | currency:project.costMeasurements[0].lifeCycleCosting.value.currency }}</dd>
                                  <dt class="font-medium">Milestones</dt>
                                  <dd>
                                    <ul>
                                      <li *ngFor="let milestone of project.milestones">
                                        {{ milestone.title }}: Met on {{ milestone.dateMet | date }} - Status: {{ milestone.status | titlecase }}
                                      </li>
                                    </ul>
                                  </dd>
                                </div>

                                <!-- Final Project Details -->
                                <div>
                                  <dt class="font-medium">Final Scope</dt>
                                  <dd>{{ project.completion.finalScope }} - {{ project.completion.finalScopeDetails }}</dd>

                                </div>







                              </dl>

                            </div>
                          </dd>
                        </div>

                        <!-- Maintenance Phase Collapsible Section -->
                        <div class="pt-6">
                          <dt>
                            <button type="button" class="flex w-full items-start justify-between text-left" (click)="maintenanceOpen = !maintenanceOpen" [attr.aria-expanded]="maintenanceOpen.toString()">
                              <span class="text-lg font-semibold text-gray-900">Maintenance Phase</span>
                              <span class="ml-6 h-7 flex items-center">
                                <!-- Icon when question is collapsed/expanded -->
                                <svg *ngIf="!maintenanceOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                     viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/>
                                </svg>
                                <svg *ngIf="maintenanceOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                     viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7"/>
                                </svg>
                              </span>
                            </button>
                          </dt>
                          <dd class="mt-2" [id]="maintenanceOpen ? 'maintenance-content' : null" *ngIf="maintenanceOpen">
                            <!-- Insert Maintenance Phase details here -->

                            <div class="mt-4 p-4 bg-white rounded-lg shadow border-2 border-gray-200">
                              <dl class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2">
                                <!-- Maintenance Period Start Date -->
                                <div>
                                  <dt class="text-sm font-medium text-gray-500">Maintenance Start Date</dt>
                                  <dd class="text-sm text-gray-900">{{ project.maintenancePeriod.startDate | date }}</dd>
                                </div>

                                <!-- Maintenance Plan Details -->
                                <div *ngIf="project.maintenancePlan?.length > 0" class="col-span-2">
                                  <dt class="text-sm font-medium text-gray-500">Maintenance Activities</dt>
                                  <dd class="text-sm text-gray-900">
                                    <ul>
                                      <li *ngFor="let plan of project.maintenancePlan">
                                        <strong>{{ plan.type }}:</strong> {{ plan.description }}
                                      </li>
                                    </ul>
                                  </dd>
                                </div>

                                <!-- Maintenance Parties Involved -->
                                <div *ngIf="project.parties | filterRoles: 'supplier'">
                                  <dt class="text-sm font-medium text-gray-500">Maintenance Contractors</dt>
                                  <dd class="text-sm text-gray-900">
                                    <ul>
                                      <li *ngFor="let party of project.parties | filterRoles: 'supplier'">
                                        {{ party.name }}
                                      </li>
                                    </ul>
                                  </dd>
                                </div>
                              </dl>

                            </div>



                          </dd>
                        </div>

                        <!-- Decommissioning  Phase Collapsible Section -->
                        <div class="pt-6">

                          <dt>
                            <button type="button" class="flex w-full items-start justify-between text-left" (click)="decommissioningOpen = !decommissioningOpen" [attr.aria-expanded]="decommissioningOpen.toString()">
                              <span class="text-lg font-semibold text-gray-900">Decommissioning Phase</span>
                              <span class="ml-6 h-7 flex items-center">
                                <!-- Icon when question is collapsed/expanded -->
                                <svg *ngIf="!decommissioningOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                     viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/>
                                </svg>
                                <svg *ngIf="decommissioningOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                     viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7"/>
                                </svg>
                              </span>
                            </button>
                          </dt>
                          <dd class="mt-2" [id]="decommissioningOpen ? 'decommissioning-content' : null" *ngIf="decommissioningOpen">
                            <!-- Insert Decommissioning Phase details here -->
                            <!-- Decommissioning Phase Section -->
                            <div *ngIf="project.phase === 'Decommissioning'" class="mt-4 p-4 bg-white rounded-lg shadow border-2 border-gray-200">

                             <dl class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2">
                                  <!-- Decommissioning Start Date -->
                                  <div>
                                    <dt class="text-sm font-medium text-gray-500">Decommissioning Start Date</dt>
                                    <dd class="text-sm text-gray-900">{{ project.decommissioningPeriod.startDate | date }}</dd>
                                  </div>

                                  <!-- Decommissioning Plans -->
                                  <div *ngIf="project.environment.decommissioningPlans?.length > 0" class="col-span-2">
                                    <dt class="text-sm font-medium text-gray-500">Decommissioning Plans</dt>
                                    <dd class="text-sm text-gray-900">
                                      <ul>
                                        <li *ngFor="let plan of project.environment.decommissioningPlans">
                                          <strong>{{ plan.description }}</strong>
                                        </li>
                                      </ul>
                                    </dd>
                                  </div>

                                  <!-- Decommissioning Cost Forecast -->
                                  <div>
                                    <dt class="text-sm font-medium text-gray-500">Estimated Decommissioning Cost</dt>
                                    <dd class="text-sm text-gray-900">{{ project.environment.decommissioningCostForecast.amount | currency:project.environment.decommissioningCostForecast.currency }}</dd>
                                  </div>
                                </dl>


                            </div>

                          </dd>
                        </div>

                      </div>
                    </div>
                  </div>
                </div>



              </div>


              <!-- Rest of the code remains the same as before -->
            </div>

          </div>
        </ng-container>
      </div>


    </div>


    <div *ngSwitchCase="'visualizations'">
      <!-- Your content for Visualizations -->
    </div>
  </div>
</div>

